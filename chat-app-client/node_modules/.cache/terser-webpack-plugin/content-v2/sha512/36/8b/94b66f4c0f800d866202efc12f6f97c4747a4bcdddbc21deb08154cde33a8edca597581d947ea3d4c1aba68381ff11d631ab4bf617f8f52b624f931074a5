{"code":"(this[\"webpackJsonpchat-app-client\"]=this[\"webpackJsonpchat-app-client\"]||[]).push([[0],{197:function(e,t,n){},198:function(e,t,n){},207:function(e,t){},209:function(e,t){},222:function(e,t){},224:function(e,t){},252:function(e,t){},254:function(e,t){},255:function(e,t){},260:function(e,t){},262:function(e,t){},268:function(e,t){},270:function(e,t){},289:function(e,t){},301:function(e,t){},304:function(e,t){},325:function(e,t,n){\"use strict\";n.r(t);n(111);var a=n(2),r=n.n(a),s=n(39),c=n.n(s),i=(n(197),n(198),n(13)),o=n(26),l=n(327),u=n(1);var j=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.a,{children:[Object(u.jsx)(\"h1\",{className:\"header text-center\",children:\"Chat Application\"}),Object(u.jsx)(\"div\",{className:\"d-flex justify-content-center\",children:Object(u.jsx)(\"div\",{className:\"welcome-msg\",children:Object(u.jsx)(\"p\",{children:\"Welcome, to get started you need to log in, if you have not yet registered you must register for the site.\"})})})]})})},d=n(5),b=n.n(d),m=n(14),h=n(3),p=n(11),O=n(333),f=n(328),x=n(177),v=n(329);function g(e,t,n){var a=e.value,r=e.name,s=[],c=!1,i=t[r].validations;return\"userName\"!==r&&\"email\"!==r&&\"roomName\"!==r||(a=a.trim()),i.required&&!a&&(s.push(\"\\u05e0\\u05d3\\u05e8\\u05e9 - \".concat(t[r].name)),c=!0),i.pattern&&!i.pattern.test(a)&&(s.push(\"\".concat(t[r].name,\" - \").concat(t[r].appropriateError)),c=!0),\"confirmPassword\"===r&&t.password.value!==a&&(s.push(\"\\u05d0\\u05d9\\u05df \\u05d4\\u05ea\\u05d0\\u05de\\u05d4 \\u05dc\\u05e1\\u05d9\\u05e1\\u05de\\u05d0 \\u05e9\\u05e0\\u05d1\\u05d7\\u05e8\\u05d4\"),c=!0),\"register\"!==n&&\"resetPassword\"!==n||\"password\"!==r||!t.confirmPassword.value||t.confirmPassword.value===a||0!==t.confirmPassword.errors.length?\"register\"!==n&&\"resetPassword\"!==n||\"password\"!==r||!t.confirmPassword.value||t.confirmPassword.value!==a||(t.confirmPassword.errors=[],t.confirmPassword.inValid=!1):(t.confirmPassword.errors.push(\"\\u05d0\\u05d9\\u05df \\u05d4\\u05ea\\u05d0\\u05de\\u05d4 \\u05dc\\u05e1\\u05d9\\u05e1\\u05de\\u05d0 \\u05e9\\u05e0\\u05d1\\u05d7\\u05e8\\u05d4\"),t.confirmPassword.inValid=!0),t[r].inValid=c,t[r].value=a,t[r].errors=s,Object(h.a)({},t)}var N={value:\"\",name:\"\\u05e9\\u05dd \\u05de\\u05e9\\u05ea\\u05de\\u05e9\",inValid:!1,appropriateError:\"\\u05d0\\u05d5\\u05ea\\u05d9\\u05d5\\u05ea \\u05d5\\u05e1\\u05e4\\u05e8\\u05d5\\u05ea \\u05d1\\u05dc\\u05d1\\u05d3\",errors:[],validations:{required:!0,pattern:/^[a-zA-Z0-9 \\u0590-\\u05fe]+$/i}},w={value:\"\",name:\"\\u05d3\\u05d5\\u05d0\\u05e8 \\u05d0\\u05dc\\u05e7\\u05d8\\u05e8\\u05d5\\u05e0\\u05d9\",inValid:!1,appropriateError:\"\\u05dc\\u05d0 \\u05ea\\u05e7\\u05d9\\u05df\",errors:[],validations:{required:!0,pattern:/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/}},y={value:\"\",name:\"\\u05e1\\u05d9\\u05e1\\u05de\\u05d0\",inValid:!1,appropriateError:\"\\u05dc\\u05e4\\u05d7\\u05d5\\u05ea 6 \\u05ea\\u05d5\\u05d5\\u05d9\\u05dd \\u05e2\\u05dd \\u05d0\\u05d5\\u05ea (\\u05d0\\u05e0\\u05d2\\u05dc\\u05d9\\u05ea) \\u05d5\\u05e1\\u05e4\\u05e8\\u05d4\",errors:[],validations:{required:!0,pattern:/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{6,})/}},k={value:\"\",name:\"\\u05d0\\u05d9\\u05de\\u05d5\\u05ea \\u05e1\\u05d9\\u05e1\\u05de\\u05d0\",inValid:!1,errors:[],validations:{required:!0}},C={value:\"\",name:\"\\u05e9\\u05dd \\u05d7\\u05d3\\u05e8\",inValid:!1,appropriateError:\"\\u05d0\\u05d5\\u05ea\\u05d9\\u05d5\\u05ea (\\u05d0\\u05e0\\u05d2\\u05dc\\u05d9\\u05ea) \\u05d5\\u05e1\\u05e4\\u05e8\\u05d5\\u05ea\",errors:[],validations:{required:!0,pattern:/^[a-zA-Z0-9 ]+$/i}},T=n(80),P=n.n(T),S=\"\",V=Object(a.createContext)({refreshToken:function(){}});function F(e){var t=e.children,n=Object(i.g)(),a=Object(o.b)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(V.Provider,{value:{refreshToken:function e(t){S=t;var r=P.a.decode(t);setTimeout(Object(m.a)(b.a.mark((function t(){var r,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(S);case 2:r=t.sent,(s=r.accessToken)?e(s):(a({type:\"LOGOUT\"}),n.push(\"/login\"));case 5:case\"end\":return t.stop()}}),t)}))),1e3*(r.exp-r.iat-180))}},children:t})})}var I=\"http://localhost:3100\";function L(e){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(I,\"/users/register\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(I,\"/users/login\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(I,\"/refreshToken\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\",authorization:\"Bearer \".concat(t)}});case 2:return n=e.sent,e.abrupt(\"return\",n.json());case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(\"\".concat(I,\"/users/logout\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"}});case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return J.apply(this,arguments)}function J(){return(J=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(I,\"/email/resetPassword\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt(\"return\",n.json());case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return q.apply(this,arguments)}function q(){return(q=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(I,\"/users/changePassword\"),{method:\"PUT\",cardentials:\"include\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var e=Object(a.useState)(\"\"),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(\"\"),c=Object(p.a)(s,2),i=c[0],o=c[1],j=Object(a.useState)({userName:N,email:Object(h.a)(Object(h.a)({},w),{},{inValid:!1,value:\"\",error:[]}),password:Object(h.a)(Object(h.a)({},y),{},{inValid:!1,value:\"\",error:[]}),confirmPassword:Object(h.a)(Object(h.a)({},k),{},{inValid:!1,value:\"\",error:[]})}),d=Object(p.a)(j,2),C=d[0],T=d[1];function P(){return(P=Object(m.a)(b.a.mark((function e(t){var n,a,s,c,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in t.preventDefault(),n=!0,a={},C)a[s]=C[s].value,T(g({value:C[s].value,name:s},C,\"register\")),0!==C[s].errors.length&&(n=!1);if(!n){e.next=13;break}return e.next=7,L(a);case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,l=i.message,c.ok?o(l):(r(l),setTimeout((function(){r(\"\")}),4500));case 13:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{className:\"container-base mt-4\",children:Object(u.jsxs)(O.a,{className:\"form-base\",children:[!i&&Object(u.jsxs)(f.a,{className:\"justify-content-center\",children:[Object(u.jsx)(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Register\"}),Object(u.jsxs)(x.a,{xs:10,md:8,lg:5,children:[Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{id:\"userName\",type:\"text\",name:\"userName\",isInvalid:C.userName.inValid,placeholder:\"Username\",onBlur:function(e){T(g(e.target,C,\"register\"))}}),C.userName.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"email\",name:\"email\",isInvalid:C.email.inValid,placeholder:\"Email\",onBlur:function(e){T(g(e.target,C,\"register\"))}}),C.email.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]})]}),Object(u.jsxs)(x.a,{xs:10,md:8,lg:5,children:[Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"password\",name:\"password\",isInvalid:C.password.inValid,placeholder:\"Password\",onBlur:function(e){T(g(e.target,C,\"register\"))}}),C.password.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"password\",name:\"confirmPassword\",isInvalid:C.confirmPassword.inValid,placeholder:\"Confirm password\",onBlur:function(e){T(g(e.target,C,\"register\"))}}),C.confirmPassword.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]})]}),Object(u.jsx)(\"div\",{className:\"text-center\",children:Object(u.jsx)(v.a,{className:\"btn-base mb-3\",variant:\"dark\",type:\"submit\",onClick:function(e){return function(e){return P.apply(this,arguments)}(e)},children:\"Register\"})}),Object(u.jsx)(f.a,{className:\"message-base justify-content-center align-items-center\",children:n&&Object(u.jsx)(\"small\",{children:n})})]}),i&&Object(u.jsxs)(f.a,{className:\"valid-register\",children:[Object(u.jsx)(\"h1\",{className:\"register-valid-message-header mt-4 text-center\",children:i}),Object(u.jsx)(\"h4\",{className:\"register-valid-message-confirm text-center\",children:\"In order to complete the sign-up process, please click the confirmation link in your inbox\"})]})]})})})},Z=n(32);var $=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(a.useContext)(V),r=function(){t({type:\"LOGIN\"})},s=Object(a.useState)(\"\"),c=Object(p.a)(s,2),j=c[0],d=c[1],N=Object(a.useState)({email:Object(h.a)(Object(h.a)({},w),{},{inValid:!1,value:\"\",error:[]}),password:Object(h.a)(Object(h.a)({},y),{},{inValid:!1,value:\"\",error:[]})}),k=Object(p.a)(N,2),C=k[0],T=k[1];function P(){return(P=Object(m.a)(b.a.mark((function t(a){var s,c,i,o,l,u,j;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in a.preventDefault(),s=!0,c={},C)c[i]=C[i].value,T(g({value:C[i].value,name:i},C,\"login\")),0!==C[i].errors.length&&(s=!1);if(!s){t.next=15;break}return t.next=7,R(c);case 7:return o=t.sent,t.next=10,o.json();case 10:l=t.sent,u=l.accessToken,j=l.message,d(j),o.ok?setTimeout((function(){n.refreshToken(u),r(),e.push(\"/rooms\")}),2e3):setTimeout((function(){d(\"\")}),5e3);case 15:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{className:\"container-base mt-4\",children:Object(u.jsxs)(O.a,{className:\"form-base\",children:[Object(u.jsx)(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Login\"}),Object(u.jsxs)(f.a,{className:\"justify-content-center\",children:[Object(u.jsxs)(x.a,{xs:11,md:8,lg:6,children:[Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"email\",name:\"email\",isInvalid:C.email.inValid,placeholder:\"Email\",onBlur:function(e){T(g(e.target,C,\"login\"))}}),C.email.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"password\",name:\"password\",isInvalid:C.password.inValid,placeholder:\"Password\",onBlur:function(e){T(g(e.target,C,\"login\"))}}),C.password.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsxs)(f.a,{className:\"btn-link-base mb-3\",children:[Object(u.jsx)(v.a,{className:\"btn-login\",variant:\"dark\",type:\"submit\",onClick:function(e){!function(e){P.apply(this,arguments)}(e)},children:\"Login\"}),Object(u.jsx)(Z.b,{className:\"link-forgot text-center\",to:\"/forgotPassword\",children:\"Forgot Password ?\"})]})]}),Object(u.jsx)(f.a,{className:\"message-base justify-content-center align-items-center mb-3\",children:j&&Object(u.jsx)(\"small\",{children:j})})]})]})})})},_=n(331),H=n(332);function W(){return P.a.decode(S)}function K(e){var t;return t=e.slice(0,10).split(\"-\").reverse().join(\"/\"),e.slice(11,16)+\" \"+t}var Q=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.isLoggedIn}));if(n)var a=W().userName;function r(){t({type:\"LOGOUT\"}),e.push(\"/\"),function(){z.apply(this,arguments)}()}return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(_.a,{collapseOnSelect:!0,expand:\"lg\",bg:\"dark\",variant:\"dark\",className:\"Nav-Bar\",children:[Object(u.jsx)(_.a.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),Object(u.jsxs)(_.a.Collapse,{id:\"responsive-navbar-nav\",children:[!n&&Object(u.jsxs)(H.a,{children:[Object(u.jsx)(Z.c,{to:\"/register\",className:\"nav-link nav-auth\",children:\"Register\"}),Object(u.jsx)(Z.c,{to:\"/login\",className:\"nav-link nav-auth\",children:\"Login\"})]}),n&&Object(u.jsxs)(_.a.Collapse,{className:\"link-rooms\",children:[Object(u.jsxs)(H.a,{children:[Object(u.jsx)(Z.c,{to:\"/rooms\",className:\"nav-link nav-auth\",children:\"Chat Rooms\"}),Object(u.jsx)(Z.c,{to:\"/createRoom\",className:\"nav-link nav-auth\",children:\"Create Room\"})]}),Object(u.jsxs)(H.a,{className:\"\",children:[Object(u.jsx)(\"div\",{className:\"userName-nav\",children:Object(u.jsxs)(\"b\",{children:[\"Hello, \",a]})}),Object(u.jsx)(Z.c,{to:\"/\",className:\"nav-link nav-auth\",onClick:function(){return r()},children:\"Logout\"})]})]})]})]})})};var X=function(){w.inValid=!1,w.errors=[];var e=Object(a.useState)({email:Object(h.a)(Object(h.a)({},w),{},{inValid:!1,value:\"\",error:[]})}),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(\"\"),c=Object(p.a)(s,2),i=c[0],o=c[1];function j(){return(j=Object(m.a)(b.a.mark((function e(t){var a,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,r(g({value:n.email.value,name:\"email\"},n,\"forgotPassword\")),0!==n.email.errors.length&&(a=!1),!a){e.next=11;break}return e.next=7,D({email:n.email.value});case 7:s=e.sent,c=s.message,o(c),setTimeout((function(){o(\"\")}),4e3);case 11:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{className:\"container-base mt-4\",children:Object(u.jsxs)(O.a,{className:\"form-base\",children:[Object(u.jsx)(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Forgot Password\"}),Object(u.jsxs)(f.a,{className:\"justify-content-center\",children:[Object(u.jsxs)(x.a,{xs:11,md:8,lg:6,children:[Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"email\",name:\"email\",isInvalid:n.email.inValid,placeholder:\"Email\",onBlur:function(e){r(g(e.target,n,\"forgotPassword\"))}}),n.email.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsx)(\"div\",{className:\"text-center\",children:Object(u.jsx)(v.a,{className:\"btn-base mb-3\",variant:\"dark\",type:\"submit\",onClick:function(e){!function(e){j.apply(this,arguments)}(e)},children:\"Submit\"})})]}),Object(u.jsx)(f.a,{className:\"message-base justify-content-center align-items-center mb-3\",children:i&&Object(u.jsx)(\"small\",{children:i})})]})]})})})};var Y=function(){var e=Object(i.i)().token,t=Object(i.g)(),n=Object(a.useState)({password:Object(h.a)(Object(h.a)({},y),{},{inValid:!1,value:\"\",error:[]}),confirmPassword:Object(h.a)(Object(h.a)({},k),{},{inValid:!1,value:\"\",error:[]})}),r=Object(p.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)(\"\"),j=Object(p.a)(o,2),d=j[0],N=j[1];function w(){return(w=Object(m.a)(b.a.mark((function n(a){var r,i,o,l,u,j;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o in a.preventDefault(),r=!0,i={},s)i[o]=s[o].value,c(g({value:s[o].value,name:o},s,\"login\")),0!==s[o].errors.length&&(r=!1);if(!r){n.next=15;break}return i.token=e,n.next=8,U(i);case 8:return l=n.sent,n.next=11,l.json();case 11:u=n.sent,j=u.message,N(j),l.ok?setTimeout((function(){N(\"\"),t.push(\"/login\")}),3e3):setTimeout((function(){N(\"\")}),3e3);case 15:case\"end\":return n.stop()}}),n)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{className:\"container-base mt-4\",children:Object(u.jsxs)(O.a,{className:\"form-base\",children:[Object(u.jsx)(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Reset Password\"}),Object(u.jsxs)(f.a,{className:\"justify-content-center\",children:[Object(u.jsxs)(x.a,{xs:11,md:8,lg:6,children:[Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"password\",name:\"password\",isInvalid:s.password.inValid,placeholder:\"Password\",onBlur:function(e){c(g(e.target,s,\"resetPassword\"))}}),s.password.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsxs)(O.a.Group,{className:\"input-base\",children:[Object(u.jsx)(O.a.Control,{type:\"password\",name:\"confirmPassword\",isInvalid:s.confirmPassword.inValid,placeholder:\"Confirm Password\",onBlur:function(e){c(g(e.target,s,\"resetPassword\"))}}),s.confirmPassword.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]}),Object(u.jsx)(\"div\",{className:\"text-center\",children:Object(u.jsx)(v.a,{className:\"btn-base mb-3\",variant:\"dark\",type:\"submit\",onClick:function(e){return function(e){return w.apply(this,arguments)}(e)},children:\"Submit\"})})]}),Object(u.jsx)(f.a,{className:\"message-base justify-content-center align-items-center mb-3\",children:d&&Object(u.jsx)(\"small\",{children:d})})]})]})})})},ee=n(330);var te=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"h3\",{className:\" text-center mt-5\",children:\"Loading\"}),Object(u.jsx)(f.a,{className:\"justify-content-center\",children:Object(u.jsx)(ee.a,{animation:\"border\",variant:\"dark\"})})]})};var ne=function(){var e=Object(a.useContext)(V),t=Object(o.b)();return Object(a.useEffect)((function(){Object(m.a)(b.a.mark((function n(){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B();case 2:a=n.sent,(r=a.accessToken)?(t({type:\"LOGIN\"}),e.refreshToken(r)):t({type:\"LOGOUT\"}),setTimeout((function(){t({type:\"START\"})}),350);case 6:case\"end\":return n.stop()}}),n)})))()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(te,{})})},ae=\"http://localhost:3100\";function re(e){return se.apply(this,arguments)}function se(){return(se=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(ae,\"/rooms\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(ae,\"/api/rooms?roomName=\").concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n.json());case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return le.apply(this,arguments)}function le(){return(le=Object(m.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(ae,\"/rooms/messages/?id=\").concat(t,\"&skip=\").concat(n));case 2:return a=e.sent,e.abrupt(\"return\",a.json());case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return je.apply(this,arguments)}function je(){return(je=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(ae,\"/rooms/users/\").concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n.json());case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(ae,\"/rooms/changeViewed\"),{method:\"PUT\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt(\"return\",n.json());case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(){var e=Object(i.g)(),t=W().id,n=Object(a.useState)(\"\"),r=Object(p.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)({roomName:C}),j=Object(p.a)(o,2),d=j[0],h=j[1];function N(){return(N=Object(m.a)(b.a.mark((function n(a){var r,s,i,o,l,u;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i in a.preventDefault(),r=!0,s={},d)s[i]=d[i].value,h(g({value:d[i].value,name:i},d)),0!==d[i].errors.length&&(r=!1);if(!r){n.next=15;break}return s.admin=t,n.next=8,re(s);case 8:return o=n.sent,n.next=11,o.json();case 11:l=n.sent,u=l.message,c(u),o.ok?setTimeout((function(){e.push(\"/rooms\")}),2e3):setTimeout((function(){c(\"\")}),4e3);case 15:case\"end\":return n.stop()}}),n)})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{className:\"container-base mt-4\",children:Object(u.jsxs)(O.a,{className:\"form-base\",children:[Object(u.jsx)(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Create Room\"}),Object(u.jsxs)(f.a,{className:\"justify-content-center mt-5 \",children:[Object(u.jsx)(x.a,{className:\"input-create-room\",xs:11,md:7,lg:5,children:Object(u.jsxs)(O.a.Group,{children:[Object(u.jsx)(O.a.Control,{id:\"roomName\",type:\"text\",name:\"roomName\",isInvalid:d.roomName.inValid,placeholder:\"Room Name\",onBlur:function(e){h(g(e.target,d))}}),d.roomName.errors.map((function(e,t){return Object(u.jsxs)(O.a.Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",e,\" \"]},t)}))]})}),Object(u.jsx)(\"div\",{className:\"text-center\",children:Object(u.jsx)(v.a,{className:\"btn-base mb-3 mt-5\",variant:\"dark\",type:\"submit\",onClick:function(e){return function(e){return N.apply(this,arguments)}(e)},children:\"Create\"})}),Object(u.jsx)(f.a,{className:\"message-base justify-content-center align-items-center mb-3\",children:s&&Object(u.jsx)(\"small\",{children:s})})]})]})})})};var me=function(e){var t=e.room,n=Object(i.g)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(\"div\",{className:\"room-card\",children:[Object(u.jsx)(\"h5\",{className:\"text-center\",children:t.roomName}),Object(u.jsx)(\"hr\",{className:\"mb-4\"}),Object(u.jsxs)(\"p\",{children:[\"Admin : \",t.admin.name]}),Object(u.jsx)(\"p\",{className:\"inside-room\",onClick:function(){return n.push(\"/room/\".concat(t.roomName),t)},children:Object(u.jsx)(\"b\",{children:\"Get Inside\"})})]})})},he=n(181),pe=n(182);var Oe,fe=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(\"\"),c=Object(p.a)(s,2),i=c[0],o=c[1],j=Object(a.useState)(!0),d=Object(p.a)(j,2),h=d[0],O=d[1];return Object(a.useEffect)((function(){var e=setTimeout(Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,ce(i);case 3:t=e.sent,r(t),setTimeout((function(){O(!1)}),400);case 6:case\"end\":return e.stop()}}),e)}))),600);return function(){clearTimeout(e)}}),[i]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"h1\",{className:\"header text-center\",children:\"Chat Rooms\"}),Object(u.jsxs)(l.a,{children:[Object(u.jsx)(\"div\",{className:\" mb-4 d-flex justify-content-center\",children:Object(u.jsxs)(\"div\",{className:\"search-rooms d-flex col-10 col-lg-4 col-md-6\",children:[Object(u.jsx)(\"input\",{className:\"search-input\",type:\"text\",placeholder:\"Search Room\",onChange:function(e){return o(e.target.value.trim())}}),Object(u.jsx)(he.a,{icon:pe.a,className:\"icon-search\"})]})}),!h&&0!==n.length&&Object(u.jsx)(f.a,{children:n.map((function(e,t){return Object(u.jsx)(x.a,{xs:9,md:6,lg:4,className:\"mb-3 mx-auto mx-md-0\",children:Object(u.jsx)(me,{room:e})},t)}))}),!h&&0===n.length&&Object(u.jsx)(f.a,{children:Object(u.jsx)(\"h3\",{className:\"text-center\",children:\"No Results\"})}),h&&Object(u.jsxs)(\"div\",{className:\"d-flex justify-content-center mt-5\",children:[Object(u.jsx)(\"h6\",{className:\"text-center\",children:\"Loading\"}),Object(u.jsx)(ee.a,{animation:\"grow\",size:\"sm\",className:\"mx-2 my-auto\"})]})]})]})},xe=n(70),ve=n(191),ge=n(187),Ne=n.n(ge),we=n(188),ye=n(189),ke=n(190),Ce=!0;var Te=function(){var e=Object(a.useRef)(),t=W(),n=t.id,r=t.userName,s=Object(i.h)().state,c=Object(a.useState)(s),o=Object(p.a)(c,2),j=o[0],d=(o[1],Object(a.useState)(r)),O=Object(p.a)(d,2),x=O[0],v=(O[1],Object(a.useState)(!0)),g=Object(p.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)([]),k=Object(p.a)(y,2),C=k[0],T=k[1],P=Object(a.useState)(!0),S=Object(p.a)(P,2),V=S[0],F=S[1],I=Object(a.useState)(\"\"),L=Object(p.a)(I,2),G=L[0],R=L[1],E=Object(a.useState)([]),B=Object(p.a)(E,2),A=B[0],z=B[1];function D(){return J.apply(this,arguments)}function J(){return(J=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(j.id);case 2:t=e.sent,T(t);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return q.apply(this,arguments)}function q(){return(q=Object(m.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,oe(j.id,t-1);case 3:n=e.sent,a=n.lastData,r=n.nextMessages,setTimeout((function(){z([].concat(Object(xe.a)(r),Object(xe.a)(A))),w(!1),M(r)}),300),a&&(Ce=!1);case 8:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t=e.map((function(e){if(e.user!==x&&!1===e.view)return e.view=!0,{id:e._id,userName:e.user}})).filter((function(e){return void 0!==e}));t.length>0&&(Oe.emit(\"changeViewedMessages\",{room:j,messagesChanged:t},(function(){})),function(e){de.apply(this,arguments)}(t))}return Object(a.useEffect)((function(){!function(){var t;null===(t=e.current)||void 0===t||t.scrollIntoView({})}()}),[V]),Object(a.useEffect)((function(){D(),U(1)}),[]),Object(a.useEffect)((function(){return(Oe=Object(ve.a)(\"localhost:3100\")).emit(\"join\",{id:n,name:x,room:j},(function(){})),function(){Oe.emit(\"disconnection\",{name:x,room:j},(function(){})),Oe.off()}}),[]),Object(a.useEffect)((function(){Oe.on(\"message\",(function(e){var t=e.message;\"\"===t.user&&\"\"===t.text?D():\"\"===t.user&&\"\"!==t.text?(D(),z((function(e){return[].concat(Object(xe.a)(e),[t])}))):(z((function(e){return[].concat(Object(xe.a)(e),[t])})),F((function(e){return!e})))}))}),[]),Object(a.useEffect)((function(){Oe.on(\"changeViewed\",(function(e){var t=e.messagesChanged.map((function(e){if(e.userName===x)return e.id}));z((function(e){return e.map((function(e){return t.includes(e._id)?Object(h.a)(Object(h.a)({},e),{},{view:!0}):e}))}))}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(f.a,{className:\"justify-content-center mt-4\",children:[Object(u.jsx)(\"div\",{className:\"chat-header\",children:Object(u.jsx)(\"h4\",{className:\"text-center mt-2\",children:\"Chat Room\"})}),Object(u.jsxs)(\"div\",{className:\"chat-body\",children:[Object(u.jsxs)(\"div\",{className:\"chat-side-bar\",children:[Object(u.jsxs)(\"div\",{className:\"name-room\",children:[Object(u.jsx)(we.a,{size:25,className:\"icon-msg\"}),\" \",Object(u.jsx)(\"h6\",{children:\"Room Name :\"})]}),Object(u.jsx)(\"div\",{className:\"header-room\",children:Object(u.jsx)(\"h4\",{className:\"text-center\",children:j.roomName})}),Object(u.jsxs)(\"div\",{children:[Object(u.jsxs)(\"div\",{className:\"name-room mb-2\",children:[Object(u.jsx)(ye.a,{size:25,className:\"icon-msg\"}),Object(u.jsx)(\"h6\",{children:\"Users :\"})]}),Object(u.jsx)(\"div\",{className:\"users-room\",children:C.map((function(e,t){return Object(u.jsx)(\"p\",{children:e.userName},t)}))})]})]}),Object(u.jsxs)(\"div\",{className:\"chat-message-textArea\",children:[Object(u.jsx)(Ne.a,{className:\"chat-messages\",hasMore:Ce,isLoading:N,loadMore:U,loadArea:50,children:A.map((function(t,n){return Object(u.jsx)(\"div\",{ref:n===A.length-1?e:null,className:\"chat-out \".concat(t.user===x?\"left\":\"right\"),children:Object(u.jsxs)(\"span\",{className:\"chat-rectangle \".concat(t.user===x?\"my-color\":\"other-color\"),children:[t.user&&Object(u.jsxs)(\"p\",{className:\"chat-rectangle-name-date my-0 pt-1 pb-0\",children:[\" \",Object(u.jsx)(\"span\",{children:t.user}),\" \",Object(u.jsx)(\"span\",{children:K(t.date)})]}),Object(u.jsxs)(\"div\",{className:\"d-flex justify-content-between\",children:[Object(u.jsx)(\"p\",{className:\"chat-rectangle-message\",children:t.text}),t.user===x&&Object(u.jsx)(ke.a,{size:30,className:\"\".concat(t.view?\"icon-v-view\":\"icon-v-not-view\",\" mt-0 mb-0\")})]})]})},n)}))}),Object(u.jsxs)(\"div\",{className:\"textarea-message\",children:[Object(u.jsx)(\"textarea\",{className:\"textArea\",rows:\"2\",value:G,onChange:function(e){return R(e.target.value)}}),Object(u.jsx)(\"button\",{className:\"btn-message\",variant:\"primary\",onClick:function(){var e;G.trim()&&(e=C.length>1,Oe.emit(\"sendMessage\",{name:x,room:j,message:G,view:e},(function(){})),R(\"\"))},children:\"Send\"})]})]})]}),Object(u.jsx)(\"div\",{className:\"chat-footer\",children:Object(u.jsxs)(\"p\",{children:[\"Admin : \",j.admin.name]})})]})})})};var Pe=function(){var e=Object(o.c)((function(e){return e.isLoggedIn}));return Object(o.c)((function(e){return e.loader}))?Object(u.jsx)(ne,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Q,{}),Object(u.jsxs)(i.d,{children:[Object(u.jsxs)(i.b,{exact:!0,path:\"/\",children:[!e&&Object(u.jsx)(j,{}),e&&Object(u.jsx)(i.a,{to:\"/rooms\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/register\",children:[!e&&Object(u.jsx)(M,{}),e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/login\",children:[!e&&Object(u.jsx)($,{}),e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/forgotPassword\",children:[!e&&Object(u.jsx)(X,{}),e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/resetPassword/:token\",children:[!e&&Object(u.jsx)(Y,{}),e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/createRoom\",children:[e&&Object(u.jsx)(be,{}),!e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/rooms\",children:[e&&Object(u.jsx)(fe,{}),!e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsxs)(i.b,{exact:!0,path:\"/room/:name\",children:[e&&Object(u.jsx)(Te,{}),!e&&Object(u.jsx)(i.a,{to:\"/\"})]}),Object(u.jsx)(i.b,{path:\"*\",children:Object(u.jsx)(i.a,{to:\"/\"})})]})]})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,334)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},Ve=n(192),Fe={isLoggedIn:0,loader:!0},Ie=Object(Ve.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;return\"LOGIN\"===t.type?Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!0}):\"LOGOUT\"===t.type?Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!1}):\"LOADING\"===t.type?Object(h.a)(Object(h.a)({},e),{},{loader:!0}):\"START\"===t.type?Object(h.a)(Object(h.a)({},e),{},{loader:!1}):e})),Le=Ie;c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o.a,{store:Le,children:Object(u.jsx)(Z.a,{children:Object(u.jsx)(F,{children:Object(u.jsx)(Pe,{})})})})}),document.getElementById(\"root\")),Se()}},[[325,1,2]]]);","name":"static/js/main.1ac87630.chunk.js","map":{"version":3,"sources":["static/js/main.1ac87630.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router","es","Container","jsx_runtime","Components_HomePage","Object","children","className","regenerator","regenerator_default","asyncToGenerator","objectSpread2","slicedToArray","Form","Row","Col","Button","validation","_ref","inputsDetails","formType","value","name","newErrors","inValid","validations","trim","required","concat","pattern","test","appropriateError","errors","length","validation_userName","validation_email","validation_password","confirmPassword","validation_roomName","jsonwebtoken","jsonwebtoken_default","AuthContext_inMemoryToken","AuthContext","refreshToken","AuthContextProvider","history","dispatch","Provider","getRefreshToken","token","decode","a","setTimeout","mark","_callee","_yield$updateTokens","accessToken","wrap","_context","prev","next","updateTokens","sent","type","stop","exp","iat","MINUTE","baseUrl","register","_x","_register","apply","arguments","user","response","fetch","method","credentials","headers","body","JSON","stringify","abrupt","loginUser","_x2","_loginUser","_callee2","_context2","_x3","_updateTokens","_callee3","inMemoryToken","_context3","authorization","json","_logoutUser","_callee4","_context4","sendEmailToResetPassword","_x4","_sendEmailToResetPassword","_callee5","email","_context5","changePassword","_x5","_changePassword","_callee6","reset","_context6","cardentials","Components_Register","_useState","_useState2","errorMessage","setErrorMessage","_useState3","_useState4","validMessage","setValidMessage","_useState5","userName","error","password","_useState6","registerInputsDetails","setRegisterInputsDetails","_submit","e","isValid","key","_yield$response$json","message","preventDefault","ok","xs","md","lg","Group","Control","id","isInvalid","placeholder","onBlur","target","map","index","Feedback","variant","onClick","submit","react_router_dom","Components_Login","ctx","login","setMessage","loginInputDetails","setLoginInputDetails","_message","to","Navbar","Nav","decodeJwtToken","date","DateTime","slice","split","reverse","join","Components_Bar","isLoggedIn","state","toLogout","logoutUser","collapseOnSelect","expand","bg","Toggle","Collapse","Components_ForgotPassword","emailToResetPassword","setEmailToResetPassword","_yield$sendEmailToRes","Components_ResetPassword","resetPassword","setResetPassword","Spinner","Components_Loader","animation","Components_Initialization","roomsApi_baseUrl","createNewRoom","_createNewRoom","room","getRooms","_getRooms","roomName","getMessges","_getMessges","skip","getUsers","_getUsers","_changeMessagesViewed","messagesChanged","Components_CreateRoom","roomDetails","setRoomDetails","Components_CardRoom","admin","index_es","free_solid_svg_icons_index_es","socket","Components_Rooms","rooms","setRooms","searchRoom","setSearchRoom","spinner","setSpinner","timeToOpreate","search","clearTimeout","onChange","icon","size","toConsumableArray","esm","react_infinite_scroll_reverse","react_infinite_scroll_reverse_default","index_esm","fa_index_esm","bs_index_esm","morePagination","Components_Room","messagesEndRef","_decodeJwtToken","isLoading","setIsLoading","_useState7","_useState8","usersRoom","setUsersRoom","_useState9","_useState10","bottom","setBottom","_useState11","_useState12","_useState13","_useState14","messages","setMessages","getListUsers","_getListUsers","users","getMoreMessages","_getMoreMessages","_yield$getMessges","lastData","nextMessages","viewedMessages","view","_id","filter","undefined","emit","_x6","changeMessagesViewed","_messagesEndRef$curre","current","scrollIntoView","scrollToBottom","off","on","text","_ref2","messagesId","includes","hasMore","loadMore","loadArea","ref","rows","chat","loader","exact","path","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","redux","initialStates","store","action","Redux_store","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpchat-app-client\"] = this[\"webpackJsonpchat-app-client\"] || []).push([[0],{\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 222:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 224:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(111);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(39);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(197);\n\n// EXTERNAL MODULE: ./src/chat/CSS/index.css\nvar CSS = __webpack_require__(198);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(327);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/chat/Components/HomePage.js\nfunction HomePage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"header text-center\",children:\"Chat Application\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome-msg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Welcome, to get started you need to log in, if you have not yet registered you must register for the site.\"})})})]})});}/* harmony default export */ var Components_HomePage = (HomePage);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(5);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 14 modules\nvar Form = __webpack_require__(333);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(328);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(177);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(329);\n\n// CONCATENATED MODULE: ./src/chat/Utils/validation.js\nfunction validation(_ref,inputsDetails,formType){var value=_ref.value,name=_ref.name;var newErrors=[];var inValid=false;var validations=inputsDetails[name].validations;if(name===\"userName\"||name===\"email\"||name===\"roomName\"){value=value.trim();}if(validations.required&&!value){newErrors.push(\"\\u05E0\\u05D3\\u05E8\\u05E9 - \".concat(inputsDetails[name].name));inValid=true;}if(validations.pattern&&!validations.pattern.test(value)){newErrors.push(\"\".concat(inputsDetails[name].name,\" - \").concat(inputsDetails[name].appropriateError));inValid=true;}if(name===\"confirmPassword\"&&inputsDetails[\"password\"].value!==value){newErrors.push(\"   \");inValid=true;}if((formType===\"register\"||formType===\"resetPassword\")&&name===\"password\"&&inputsDetails[\"confirmPassword\"].value&&inputsDetails[\"confirmPassword\"].value!==value&&inputsDetails[\"confirmPassword\"].errors.length===0){inputsDetails[\"confirmPassword\"].errors.push(\"   \");inputsDetails[\"confirmPassword\"].inValid=true;}else if((formType===\"register\"||formType===\"resetPassword\")&&name===\"password\"&&inputsDetails[\"confirmPassword\"].value&&inputsDetails[\"confirmPassword\"].value===value){inputsDetails[\"confirmPassword\"].errors=[];inputsDetails[\"confirmPassword\"].inValid=false;}inputsDetails[name].inValid=inValid;inputsDetails[name].value=value;inputsDetails[name].errors=newErrors;return Object(objectSpread2[\"a\" /* default */])({},inputsDetails);}// validation objects to form\nvar validation_userName={value:'',name:\" \",inValid:false,appropriateError:\"  \",errors:[],validations:{required:true,pattern:/^[a-zA-Z0-9 \\u0590-\\u05fe]+$/i}};var validation_email={value:'',name:\" \",inValid:false,appropriateError:\" \",errors:[],validations:{required:true,pattern:/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/}};var validation_password={value:'',name:\"\",inValid:false,appropriateError:\" 6    () \",errors:[],validations:{required:true,pattern:/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{6,})/}};var confirmPassword={value:'',name:\" \",inValid:false,errors:[],validations:{required:true}};var validation_roomName={value:'',name:\" \",inValid:false,appropriateError:\" () \",errors:[],validations:{required:true,pattern:/^[a-zA-Z0-9 ]+$/i}};var roomType={value:'',name:\" \",inValid:false,errors:[],validations:{required:true}};\n// EXTERNAL MODULE: ./node_modules/jsonwebtoken/index.js\nvar jsonwebtoken = __webpack_require__(80);\nvar jsonwebtoken_default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken);\n\n// CONCATENATED MODULE: ./src/chat/Components/AuthContext.js\nvar MINUTE=60;var AuthContext_inMemoryToken=\"\";var AuthContext=/*#__PURE__*/Object(react[\"createContext\"])({refreshToken:function refreshToken(){}});function AuthContextProvider(_ref){var children=_ref.children;var history=Object(react_router[\"g\" /* useHistory */])();var dispatch=Object(es[\"b\" /* useDispatch */])();var logout=function logout(){dispatch({type:'LOGOUT'});};function getRefreshToken(token){AuthContext_inMemoryToken=token;var decode=jsonwebtoken_default.a.decode(token);setTimeout(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _yield$updateTokens,accessToken;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updateTokens(AuthContext_inMemoryToken);case 2:_yield$updateTokens=_context.sent;accessToken=_yield$updateTokens.accessToken;if(accessToken){getRefreshToken(accessToken);}else{logout();history.push('/login');}case 5:case\"end\":return _context.stop();}}},_callee);})),(decode.exp-decode.iat-MINUTE*3)*1000);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:{refreshToken:getRefreshToken},children:children})});}\n// CONCATENATED MODULE: ./src/chat/DAL/authenticationApi.js\nvar baseUrl=\"http://localhost:3100\";function register(_x){return _register.apply(this,arguments);}function _register(){_register=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(user){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(baseUrl,\"/users/register\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)});case 2:response=_context.sent;return _context.abrupt(\"return\",response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _register.apply(this,arguments);}function loginUser(_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(user){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(baseUrl,\"/users/login\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)});case 2:response=_context2.sent;return _context2.abrupt(\"return\",response);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _loginUser.apply(this,arguments);}function updateTokens(_x3){return _updateTokens.apply(this,arguments);}function _updateTokens(){_updateTokens=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(inMemoryToken){var response;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(baseUrl,\"/refreshToken\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json','authorization':\"Bearer \".concat(inMemoryToken)}});case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.json());case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _updateTokens.apply(this,arguments);}function logoutUser(){return _logoutUser.apply(this,arguments);}function _logoutUser(){_logoutUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:fetch(\"\".concat(baseUrl,\"/users/logout\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'}});case 1:case\"end\":return _context4.stop();}}},_callee4);}));return _logoutUser.apply(this,arguments);}function sendEmailToResetPassword(_x4){return _sendEmailToResetPassword.apply(this,arguments);}function _sendEmailToResetPassword(){_sendEmailToResetPassword=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(email){var response;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"\".concat(baseUrl,\"/email/resetPassword\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify(email)});case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.json());case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _sendEmailToResetPassword.apply(this,arguments);}function changePassword(_x5){return _changePassword.apply(this,arguments);}function _changePassword(){_changePassword=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(reset){var response;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"\".concat(baseUrl,\"/users/changePassword\"),{method:'PUT',cardentials:'include',headers:{'Content-type':'application/json'},body:JSON.stringify(reset)});case 2:response=_context6.sent;return _context6.abrupt(\"return\",response);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return _changePassword.apply(this,arguments);}\n// CONCATENATED MODULE: ./src/chat/Components/Register.js\nfunction Register(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),validMessage=_useState4[0],setValidMessage=_useState4[1];var _useState5=Object(react[\"useState\"])({userName:validation_userName,email:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},validation_email),{},{inValid:false,value:\"\",error:[]}),password:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},validation_password),{},{inValid:false,value:\"\",error:[]}),confirmPassword:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},confirmPassword),{},{inValid:false,value:\"\",error:[]})}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),registerInputsDetails=_useState6[0],setRegisterInputsDetails=_useState6[1];function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var isValid,user,key,response,_yield$response$json,message;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();isValid=true;user={};for(key in registerInputsDetails){user[key]=registerInputsDetails[key].value;setRegisterInputsDetails(validation({value:registerInputsDetails[key].value,name:key},registerInputsDetails,\"register\"));if(registerInputsDetails[key].errors.length!==0){isValid=false;}}if(!isValid){_context.next=13;break;}_context.next=7;return register(user);case 7:response=_context.sent;_context.next=10;return response.json();case 10:_yield$response$json=_context.sent;message=_yield$response$json.message;if(response.ok){setValidMessage(message);}else{setErrorMessage(message);setTimeout(function(){setErrorMessage(\"\");},4500);}case 13:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"container-base mt-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{className:\"form-base\",children:[!validMessage&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{xs:10,md:8,lg:5,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{id:\"userName\",type:\"text\",name:\"userName\",isInvalid:registerInputsDetails[\"userName\"].inValid,placeholder:\"Username\",onBlur:function onBlur(e){setRegisterInputsDetails(validation(e.target,registerInputsDetails,\"register\"));}}),registerInputsDetails[\"userName\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",name:\"email\",isInvalid:registerInputsDetails[\"email\"].inValid,placeholder:\"Email\",onBlur:function onBlur(e){setRegisterInputsDetails(validation(e.target,registerInputsDetails,\"register\"));}}),registerInputsDetails[\"email\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{xs:10,md:8,lg:5,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"password\",isInvalid:registerInputsDetails[\"password\"].inValid,placeholder:\"Password\",onBlur:function onBlur(e){setRegisterInputsDetails(validation(e.target,registerInputsDetails,\"register\"));}}),registerInputsDetails[\"password\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"confirmPassword\",isInvalid:registerInputsDetails[\"confirmPassword\"].inValid,placeholder:\"Confirm password\",onBlur:function onBlur(e){setRegisterInputsDetails(validation(e.target,registerInputsDetails,\"register\"));}}),registerInputsDetails[\"confirmPassword\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-base mb-3\",variant:\"dark\",type:\"submit\",onClick:function onClick(e){return submit(e);},children:\"Register\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"message-base justify-content-center align-items-center\",children:errorMessage&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:errorMessage})})]}),validMessage&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"valid-register\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"register-valid-message-header mt-4 text-center\",children:validMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"register-valid-message-confirm text-center\",children:\"In order to complete the sign-up process, please click the confirmation link in your inbox\"})]})]})})});}/* harmony default export */ var Components_Register = (Register);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./src/chat/Components/Login.js\nfunction Login(){var history=Object(react_router[\"g\" /* useHistory */])();var dispatch=Object(es[\"b\" /* useDispatch */])();var ctx=Object(react[\"useContext\"])(AuthContext);var login=function login(){dispatch({type:'LOGIN'});};var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=Object(react[\"useState\"])({email:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},validation_email),{},{inValid:false,value:\"\",error:[]}),password:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},validation_password),{},{inValid:false,value:\"\",error:[]})}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loginInputDetails=_useState4[0],setLoginInputDetails=_useState4[1];function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var isValid,user,key,response,_yield$response$json,accessToken,_message;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();isValid=true;user={};for(key in loginInputDetails){user[key]=loginInputDetails[key].value;setLoginInputDetails(validation({value:loginInputDetails[key].value,name:key},loginInputDetails,\"login\"));if(loginInputDetails[key].errors.length!==0){isValid=false;}}if(!isValid){_context.next=15;break;}_context.next=7;return loginUser(user);case 7:response=_context.sent;_context.next=10;return response.json();case 10:_yield$response$json=_context.sent;accessToken=_yield$response$json.accessToken;_message=_yield$response$json.message;setMessage(_message);if(response.ok){setTimeout(function(){ctx.refreshToken(accessToken);login();history.push('/rooms');},2000);}else{setTimeout(function(){setMessage(\"\");},5000);}case 15:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"container-base mt-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{className:\"form-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{xs:11,md:8,lg:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",name:\"email\",isInvalid:loginInputDetails[\"email\"].inValid,placeholder:\"Email\",onBlur:function onBlur(e){setLoginInputDetails(validation(e.target,loginInputDetails,\"login\"));}}),loginInputDetails[\"email\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"password\",isInvalid:loginInputDetails[\"password\"].inValid,placeholder:\"Password\",onBlur:function onBlur(e){setLoginInputDetails(validation(e.target,loginInputDetails,\"login\"));}}),loginInputDetails[\"password\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"btn-link-base mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-login\",variant:\"dark\",type:\"submit\",onClick:function onClick(e){submit(e);},children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"link-forgot text-center\",to:\"/forgotPassword\",children:\"Forgot Password ?\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"message-base justify-content-center align-items-center mb-3\",children:message&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:message})})]})]})})});}/* harmony default export */ var Components_Login = (Login);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Navbar.js + 26 modules\nvar Navbar = __webpack_require__(331);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Nav.js + 25 modules\nvar Nav = __webpack_require__(332);\n\n// CONCATENATED MODULE: ./src/chat/Utils/function.js\nfunction decodeJwtToken(){return jsonwebtoken_default.a.decode(AuthContext_inMemoryToken);}function date(DateTime){var date;var time;date=DateTime.slice(0,10).split(\"-\").reverse().join(\"/\");time=DateTime.slice(11,16);return time+\" \"+date;}\n// CONCATENATED MODULE: ./src/chat/Components/Bar.js\nfunction Bar(){var history=Object(react_router[\"g\" /* useHistory */])();var dispatch=Object(es[\"b\" /* useDispatch */])();var isLoggedIn=Object(es[\"c\" /* useSelector */])(function(state){return state.isLoggedIn;});if(isLoggedIn){var _decodeJwtToken=decodeJwtToken(),userName=_decodeJwtToken.userName;}var logout=function logout(){dispatch({type:'LOGOUT'});};function toLogout(){logout();history.push('/');logoutUser();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Navbar[\"a\" /* default */],{collapseOnSelect:true,expand:\"lg\",bg:\"dark\",variant:\"dark\",className:\"Nav-Bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Navbar[\"a\" /* default */].Collapse,{id:\"responsive-navbar-nav\",children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/register\",className:\"nav-link nav-auth\",children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/login\",className:\"nav-link nav-auth\",children:\"Login\"})]}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Navbar[\"a\" /* default */].Collapse,{className:\"link-rooms\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/rooms\",className:\"nav-link nav-auth\",children:\"Chat Rooms\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/createRoom\",className:\"nav-link nav-auth\",children:\"Create Room\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{className:\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userName-nav\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Hello, \",userName]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/\",className:\"nav-link nav-auth\",onClick:function onClick(){return toLogout();},children:\"Logout\"})]})]})]})]})});}/* harmony default export */ var Components_Bar = (Bar);\n// CONCATENATED MODULE: ./src/chat/Components/ForgotPassword.js\nfunction ForgotPassword(){validation_email.inValid=false;validation_email.errors=[];var _useState=Object(react[\"useState\"])({email:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},validation_email),{},{inValid:false,value:\"\",error:[]})}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),emailToResetPassword=_useState2[0],setEmailToResetPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var isValid,_yield$sendEmailToRes,_message;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();isValid=true;setEmailToResetPassword(validation({value:emailToResetPassword[\"email\"].value,name:\"email\"},emailToResetPassword,\"forgotPassword\"));if(emailToResetPassword[\"email\"].errors.length!==0){isValid=false;}if(!isValid){_context.next=11;break;}_context.next=7;return sendEmailToResetPassword({email:emailToResetPassword[\"email\"].value});case 7:_yield$sendEmailToRes=_context.sent;_message=_yield$sendEmailToRes.message;setMessage(_message);setTimeout(function(){setMessage(\"\");},4000);case 11:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"container-base mt-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{className:\"form-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Forgot Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{xs:11,md:8,lg:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",name:\"email\",isInvalid:emailToResetPassword[\"email\"].inValid,placeholder:\"Email\",onBlur:function onBlur(e){setEmailToResetPassword(validation(e.target,emailToResetPassword,\"forgotPassword\"));}}),emailToResetPassword[\"email\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-base mb-3\",variant:\"dark\",type:\"submit\",onClick:function onClick(e){submit(e);},children:\"Submit\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"message-base justify-content-center align-items-center mb-3\",children:message&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:message})})]})]})})});}/* harmony default export */ var Components_ForgotPassword = (ForgotPassword);\n// CONCATENATED MODULE: ./src/chat/Components/ResetPassword.js\nfunction ResetPassword(){var _useParams=Object(react_router[\"i\" /* useParams */])(),token=_useParams.token;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])({password:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},validation_password),{},{inValid:false,value:\"\",error:[]}),confirmPassword:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},confirmPassword),{},{inValid:false,value:\"\",error:[]})}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),resetPassword=_useState2[0],setResetPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var isValid,reset,key,response,_yield$response$json,_message;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();isValid=true;reset={};for(key in resetPassword){reset[key]=resetPassword[key].value;setResetPassword(validation({value:resetPassword[key].value,name:key},resetPassword,\"login\"));if(resetPassword[key].errors.length!==0){isValid=false;}}if(!isValid){_context.next=15;break;}reset[\"token\"]=token;_context.next=8;return changePassword(reset);case 8:response=_context.sent;_context.next=11;return response.json();case 11:_yield$response$json=_context.sent;_message=_yield$response$json.message;setMessage(_message);if(response.ok){setTimeout(function(){setMessage(\"\");history.push(\"/login\");},3000);}else{setTimeout(function(){setMessage(\"\");},3000);}case 15:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"container-base mt-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{className:\"form-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Reset Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{xs:11,md:8,lg:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"password\",isInvalid:resetPassword[\"password\"].inValid,placeholder:\"Password\",onBlur:function onBlur(e){setResetPassword(validation(e.target,resetPassword,\"resetPassword\"));}}),resetPassword[\"password\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\"input-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"confirmPassword\",isInvalid:resetPassword[\"confirmPassword\"].inValid,placeholder:\"Confirm Password\",onBlur:function onBlur(e){setResetPassword(validation(e.target,resetPassword,\"resetPassword\"));}}),resetPassword[\"confirmPassword\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-base mb-3\",variant:\"dark\",type:\"submit\",onClick:function onClick(e){return submit(e);},children:\"Submit\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"message-base justify-content-center align-items-center mb-3\",children:message&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:message})})]})]})})});}/* harmony default export */ var Components_ResetPassword = (ResetPassword);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Spinner.js\nvar Spinner = __webpack_require__(330);\n\n// CONCATENATED MODULE: ./src/chat/Components/Loader.js\nfunction Loader(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\" text-center mt-5\",children:\"Loading\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"justify-content-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Spinner[\"a\" /* default */],{animation:\"border\",variant:\"dark\"})})]});}/* harmony default export */ var Components_Loader = (Loader);\n// CONCATENATED MODULE: ./src/chat/Components/Initialization.js\nfunction Initialization(){var ctx=Object(react[\"useContext\"])(AuthContext);var dispatch=Object(es[\"b\" /* useDispatch */])();var login=function login(){dispatch({type:'LOGIN'});};var logout=function logout(){dispatch({type:'LOGOUT'});};var start=function start(){dispatch({type:'START'});};Object(react[\"useEffect\"])(function(){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _yield$updateTokens,accessToken;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updateTokens();case 2:_yield$updateTokens=_context.sent;accessToken=_yield$updateTokens.accessToken;if(accessToken){login();ctx.refreshToken(accessToken);}else{logout();}setTimeout(function(){start();},350);case 6:case\"end\":return _context.stop();}}},_callee);}))();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Loader,{})});}/* harmony default export */ var Components_Initialization = (Initialization);\n// CONCATENATED MODULE: ./src/chat/DAL/roomsApi.js\nvar roomsApi_baseUrl=\"http://localhost:3100\";function createNewRoom(_x){return _createNewRoom.apply(this,arguments);}function _createNewRoom(){_createNewRoom=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(room){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(roomsApi_baseUrl,\"/rooms\"),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify(room)});case 2:response=_context.sent;return _context.abrupt(\"return\",response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _createNewRoom.apply(this,arguments);}function getRooms(_x2){return _getRooms.apply(this,arguments);}function _getRooms(){_getRooms=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(roomName){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(roomsApi_baseUrl,\"/api/rooms?roomName=\").concat(roomName));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.json());case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getRooms.apply(this,arguments);}function getMessges(_x3,_x4){return _getMessges.apply(this,arguments);}function _getMessges(){_getMessges=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(id,skip){var response;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(roomsApi_baseUrl,\"/rooms/messages/?id=\").concat(id,\"&skip=\").concat(skip));case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.json());case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _getMessges.apply(this,arguments);}function getUsers(_x5){return _getUsers.apply(this,arguments);}function _getUsers(){_getUsers=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(id){var response;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(roomsApi_baseUrl,\"/rooms/users/\").concat(id));case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.json());case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _getUsers.apply(this,arguments);}function changeMessagesViewed(_x6){return _changeMessagesViewed.apply(this,arguments);}function _changeMessagesViewed(){_changeMessagesViewed=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(messagesChanged){var response;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"\".concat(roomsApi_baseUrl,\"/rooms/changeViewed\"),{method:'PUT',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify(messagesChanged)});case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.json());case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _changeMessagesViewed.apply(this,arguments);}\n// CONCATENATED MODULE: ./src/chat/Components/CreateRoom.js\nfunction CreateRoom(){var history=Object(react_router[\"g\" /* useHistory */])();var _decodeJwtToken=decodeJwtToken(),id=_decodeJwtToken.id;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=Object(react[\"useState\"])({roomName:validation_roomName}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),roomDetails=_useState4[0],setRoomDetails=_useState4[1];function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var isValid,room,key,response,_yield$response$json,_message;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();isValid=true;room={};for(key in roomDetails){room[key]=roomDetails[key].value;setRoomDetails(validation({value:roomDetails[key].value,name:key},roomDetails));if(roomDetails[key].errors.length!==0){isValid=false;}}if(!isValid){_context.next=15;break;}room[\"admin\"]=id;_context.next=8;return createNewRoom(room);case 8:response=_context.sent;_context.next=11;return response.json();case 11:_yield$response$json=_context.sent;_message=_yield$response$json.message;setMessage(_message);if(response.ok){setTimeout(function(){history.push('/rooms');},2000);}else{setTimeout(function(){setMessage(\"\");},4000);}case 15:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"container-base mt-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{className:\"form-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-center mt-3 mb-4\",children:\"Create Room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-center mt-5 \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{className:\"input-create-room\",xs:11,md:7,lg:5,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{id:\"roomName\",type:\"text\",name:\"roomName\",isInvalid:roomDetails[\"roomName\"].inValid,placeholder:\"Room Name\",onBlur:function onBlur(e){setRoomDetails(validation(e.target,roomDetails));}}),roomDetails[\"roomName\"].errors.map(function(value,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control.Feedback,{className:\"feedback\",type:\"invalid\",children:[\" \",value,\" \"]},index);})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-base mb-3 mt-5\",variant:\"dark\",type:\"submit\",onClick:function onClick(e){return submit(e);},children:\"Create\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"message-base justify-content-center align-items-center mb-3\",children:message&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:message})})]})]})})});}/* harmony default export */ var Components_CreateRoom = (CreateRoom);\n// CONCATENATED MODULE: ./src/chat/Components/CardRoom.js\nfunction CardRoom(_ref){var room=_ref.room;var history=Object(react_router[\"g\" /* useHistory */])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"room-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"text-center\",children:room.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"mb-4\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Admin : \",room.admin.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"inside-room\",onClick:function onClick(){return history.push(\"/room/\".concat(room.roomName),room);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Get Inside\"})})]})});}/* harmony default export */ var Components_CardRoom = (CardRoom);\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar index_es = __webpack_require__(181);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__(182);\n\n// CONCATENATED MODULE: ./src/chat/Components/Rooms.js\nfunction Rooms(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];// id, roomName, admin, roomType\nvar _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchRoom=_useState4[0],setSearchRoom=_useState4[1];// id, roomName, admin, roomType\nvar _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),spinner=_useState6[0],setSpinner=_useState6[1];// id, roomName, admin, roomType\nObject(react[\"useEffect\"])(function(){var timeToOpreate=setTimeout(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var search;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSpinner(true);_context.next=3;return getRooms(searchRoom);case 3:search=_context.sent;setRooms(search);stopSpinner();case 6:case\"end\":return _context.stop();}}},_callee);})),600);return function(){clearTimeout(timeToOpreate);};},[searchRoom]);function stopSpinner(){setTimeout(function(){setSpinner(false);},400);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"header text-center\",children:\"Chat Rooms\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\" mb-4 d-flex justify-content-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search-rooms d-flex col-10 col-lg-4 col-md-6\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"search-input\",type:\"text\",placeholder:\"Search Room\",onChange:function onChange(e){return setSearchRoom(e.target.value.trim());}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:free_solid_svg_icons_index_es[\"a\" /* faSearch */],className:\"icon-search\"})]})}),!spinner&&rooms.length!==0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{children:rooms.map(function(room,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:9,md:6,lg:4,className:\"mb-3 mx-auto mx-md-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_CardRoom,{room:room})},index);})}),!spinner&&rooms.length===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"text-center\",children:\"No Results\"})}),spinner&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex justify-content-center mt-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{className:\"text-center\",children:\"Loading\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Spinner[\"a\" /* default */],{animation:\"grow\",size:\"sm\",className:\"mx-2 my-auto\"})]})]})]});}/* harmony default export */ var Components_Rooms = (Rooms);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/esm/index.js + 13 modules\nvar esm = __webpack_require__(191);\n\n// EXTERNAL MODULE: ./node_modules/react-infinite-scroll-reverse/index.js\nvar react_infinite_scroll_reverse = __webpack_require__(187);\nvar react_infinite_scroll_reverse_default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroll_reverse);\n\n// EXTERNAL MODULE: ./node_modules/react-icons/bi/index.esm.js\nvar index_esm = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/react-icons/fa/index.esm.js\nvar fa_index_esm = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/react-icons/bs/index.esm.js\nvar bs_index_esm = __webpack_require__(190);\n\n// CONCATENATED MODULE: ./src/chat/Components/Room.js\nvar socket;var morePagination=true;function Room(){var ENDPOINT=\"localhost:3100\";var messagesEndRef=Object(react[\"useRef\"])();var _decodeJwtToken=decodeJwtToken(),id=_decodeJwtToken.id,userName=_decodeJwtToken.userName;var _useLocation=Object(react_router[\"h\" /* useLocation */])(),state=_useLocation.state;var _useState=Object(react[\"useState\"])(state),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),room=_useState2[0],setRoom=_useState2[1];// id, roomName, admin\nvar _useState3=Object(react[\"useState\"])(userName),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];// userName\nvar _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),usersRoom=_useState8[0],setUsersRoom=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),bottom=_useState10[0],setBottom=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),messages=_useState14[0],setMessages=_useState14[1];var scrollToBottom=function scrollToBottom(){var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({});};Object(react[\"useEffect\"])(function(){scrollToBottom();},[bottom]);Object(react[\"useEffect\"])(function(){getListUsers();getMoreMessages(1);},[]);Object(react[\"useEffect\"])(function(){socket=Object(esm[\"a\" /* default */])(ENDPOINT);socket.emit('join',{id:id,name:name,room:room},function(){});return function(){socket.emit('disconnection',{name:name,room:room},function(){});socket.off();};},[]);Object(react[\"useEffect\"])(function(){socket.on('message',function(_ref){var message=_ref.message;if(message.user===\"\"&&message.text===\"\"){// i joined\ngetListUsers();}else if(message.user===\"\"&&message.text!==\"\"){//else user joined or left\ngetListUsers();setMessages(function(messages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(messages),[message]);});}else{setMessages(function(messages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(messages),[message]);});setBottom(function(prev){return!prev;});// when get new mesage the scroller go bottom\n}});},[]);Object(react[\"useEffect\"])(function(){socket.on('changeViewed',function(_ref2){var messagesChanged=_ref2.messagesChanged;var messagesId=messagesChanged.map(function(message){if(message.userName===name){return message.id;}});setMessages(function(messages){return messages.map(function(message){if(messagesId.includes(message._id)){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},message),{},{view:true});}else{return message;}});});});},[]);function sendMessage(){if(message.trim()){var view;usersRoom.length>1?view=true:view=false;socket.emit('sendMessage',{name:name,room:room,message:message,view:view},function(){});setMessage(\"\");}}function getListUsers(){return _getListUsers.apply(this,arguments);}function _getListUsers(){_getListUsers=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var users;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUsers(room.id);case 2:users=_context.sent;setUsersRoom(users);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getListUsers.apply(this,arguments);}function getMoreMessages(_x){return _getMoreMessages.apply(this,arguments);}function _getMoreMessages(){_getMoreMessages=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(skip){var _yield$getMessges,lastData,nextMessages;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);_context2.next=3;return getMessges(room.id,skip-1);case 3:_yield$getMessges=_context2.sent;lastData=_yield$getMessges.lastData;nextMessages=_yield$getMessges.nextMessages;setTimeout(function(){setMessages([].concat(Object(toConsumableArray[\"a\" /* default */])(nextMessages),Object(toConsumableArray[\"a\" /* default */])(messages)));setIsLoading(false);viewedMessages(nextMessages);},300);if(lastData){morePagination=false;}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _getMoreMessages.apply(this,arguments);}function viewedMessages(nextMessages){var messagesChanged=nextMessages.map(function(message){if(message.user!==name&&message.view===false){message.view=true;return{id:message._id,userName:message.user};}}).filter(function(message){return message!==undefined;});if(messagesChanged.length>0){socket.emit('changeViewedMessages',{room:room,messagesChanged:messagesChanged},function(){});changeMessagesViewed(messagesChanged);}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-center mt-4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"text-center mt-2\",children:\"Chat Room\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-side-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"name-room\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* BiMessageDetail */],{size:25,className:\"icon-msg\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{children:\"Room Name :\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header-room\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"text-center\",children:room.roomName})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"name-room mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(fa_index_esm[\"a\" /* FaUsers */],{size:25,className:\"icon-msg\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{children:\"Users :\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"users-room\",children:usersRoom.map(function(user,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:user.userName},index);})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-message-textArea\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_infinite_scroll_reverse_default.a,{className:\"chat-messages\",hasMore:morePagination,isLoading:isLoading,loadMore:getMoreMessages,loadArea:50,children:messages.map(function(message,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:index===messages.length-1?messagesEndRef:null,className:\"chat-out \".concat(message.user===name?\"left\":\"right\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"chat-rectangle \".concat(message.user===name?\"my-color\":\"other-color\"),children:[message.user&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"chat-rectangle-name-date my-0 pt-1 pb-0\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:message.user}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:date(message.date)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"chat-rectangle-message\",children:message.text}),message.user===name&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bs_index_esm[\"a\" /* BsCheck */],{size:30,className:\"\".concat(message.view?\"icon-v-view\":\"icon-v-not-view\",\" mt-0 mb-0\")})]})]})},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"textarea-message\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"textArea\",rows:\"2\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-message\",variant:\"primary\",onClick:sendMessage,children:\"Send\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Admin : \",room.admin.name]})})]})})});}/* harmony default export */ var Components_Room = (Room);\n// CONCATENATED MODULE: ./src/chat/index.js\nfunction App(){var isLoggedIn=Object(es[\"c\" /* useSelector */])(function(state){return state.isLoggedIn;});var loader=Object(es[\"c\" /* useSelector */])(function(state){return state.loader;});if(loader)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Initialization,{});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Bar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_HomePage,{}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/rooms\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/register\",children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Register,{}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Login,{}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/forgotPassword\",children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_ForgotPassword,{}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/resetPassword/:token\",children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_ResetPassword,{}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/createRoom\",children:[isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_CreateRoom,{}),!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/rooms\",children:[isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Rooms,{}),!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/room/:name\",children:[isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Room,{}),!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"*\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})})]})]});}/* harmony default export */ var chat = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 334)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js + 2 modules\nvar redux = __webpack_require__(192);\n\n// CONCATENATED MODULE: ./src/chat/Redux/store.js\nvar initialStates={isLoggedIn:0,loader:true};var store_myStates=function myStates(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialStates;var action=arguments.length>1?arguments[1]:undefined;if(action.type===\"LOGIN\"){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoggedIn:true});}if(action.type===\"LOGOUT\"){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoggedIn:false});}if(action.type===\"LOADING\"){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{loader:true});}if(action.type===\"START\"){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{loader:false});}return state;};var store=Object(redux[\"a\" /* createStore */])(store_myStates);/* harmony default export */ var Redux_store = (store);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:Redux_store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chat,{})})})})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[325,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\src\\index.css","C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\src\\chat\\CSS\\index.css","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\hash-base\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\hash-base\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\diffie-hellman\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\miller-rabin\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\brorand crypto","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\browserify-sign\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\browserify-sign\\node_modules\\readable-stream\\lib\\internal\\streams util","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\elliptic\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\asn1.js\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\create-ecdh\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\\\Desktop\\chat rooms\\chat-app-client\\node_modules\\public-encrypt\\node_modules\\bn.js\\lib buffer","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/HomePage.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Utils/validation.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/AuthContext.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/DAL/authenticationApi.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Register.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Login.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Utils/function.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Bar.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/ForgotPassword.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/ResetPassword.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Loader.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Initialization.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/DAL/roomsApi.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/CreateRoom.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/CardRoom.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Rooms.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Components/Room.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/index.js","C:/Users//Desktop/chat rooms/chat-app-client/src/reportWebVitals.js","C:/Users//Desktop/chat rooms/chat-app-client/src/chat/Redux/store.js","C:/Users//Desktop/chat rooms/chat-app-client/src/index.js"],"names":["HomePage","validation","inputsDetails","formType","value","name","newErrors","inValid","validations","trim","required","push","pattern","test","appropriateError","errors","length","userName","email","password","confirmPassword","roomName","roomType","MINUTE","inMemoryToken","AuthContext","createContext","refreshToken","AuthContextProvider","children","history","useHistory","dispatch","useDispatch","logout","type","getRefreshToken","token","decode","jwt","setTimeout","updateTokens","accessToken","exp","iat","baseUrl","register","user","fetch","method","credentials","headers","body","JSON","stringify","response","loginUser","json","logoutUser","sendEmailToResetPassword","changePassword","reset","cardentials","Register","useState","errorMessage","setErrorMessage","validMessage","setValidMessage","error","registerInputsDetails","setRegisterInputsDetails","submit","e","preventDefault","isValid","key","message","ok","target","map","index","Login","ctx","useContext","login","setMessage","loginInputDetails","setLoginInputDetails","decodeJwtToken","date","DateTime","time","slice","split","reverse","join","Bar","isLoggedIn","useSelector","state","toLogout","ForgotPassword","emailToResetPassword","setEmailToResetPassword","ResetPassword","useParams","resetPassword","setResetPassword","Loader","Initialization","start","useEffect","createNewRoom","room","getRooms","getMessges","id","skip","getUsers","changeMessagesViewed","messagesChanged","CreateRoom","roomDetails","setRoomDetails","CardRoom","admin","Rooms","rooms","setRooms","searchRoom","setSearchRoom","spinner","setSpinner","timeToOpreate","search","stopSpinner","clearTimeout","faSearch","socket","morePagination","Room","ENDPOINT","messagesEndRef","useRef","useLocation","setRoom","setName","isLoading","setIsLoading","usersRoom","setUsersRoom","bottom","setBottom","messages","setMessages","scrollToBottom","current","scrollIntoView","getListUsers","getMoreMessages","io","emit","off","on","text","prev","messagesId","includes","_id","view","sendMessage","users","lastData","nextMessages","viewedMessages","filter","undefined","App","loader","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialStates","myStates","action","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import {Container} from \"react-bootstrap\"\r\n\r\n\r\nfunction HomePage(){\r\n\r\n    return <>\r\n        <Container>\r\n            <h1 className=\"header text-center\">Chat Application</h1>\r\n            <div className=\"d-flex justify-content-center\">\r\n                <div className=\"welcome-msg\">\r\n                    <p>Welcome, to get started you need to log in,\r\n                    if you have not yet registered you must\r\n                    register for the site.</p>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default HomePage","\r\nfunction validation({value,name},inputsDetails, formType){\r\n\r\n    const newErrors = []\r\n    let inValid = false\r\n    const {validations} = inputsDetails[name]\r\n\r\n    if(name===\"userName\" || name === \"email\" || name===\"roomName\"){\r\n        value = value.trim()\r\n    }\r\n    \r\n    if(validations.required && !value){\r\n      newErrors.push(` - ${inputsDetails[name].name}`)\r\n      inValid = true\r\n    }\r\n\r\n    if(validations.pattern && !validations.pattern.test(value)){\r\n          newErrors.push(`${inputsDetails[name].name} - ${inputsDetails[name].appropriateError}`)\r\n          inValid = true\r\n    }\r\n\r\n    if(name===\"confirmPassword\" && inputsDetails[\"password\"].value !== value){\r\n        newErrors.push(\"   \")\r\n        inValid = true\r\n    }\r\n\r\n\r\n    if((formType === \"register\" || formType === \"resetPassword\") && name === \"password\" && inputsDetails[\"confirmPassword\"].value && inputsDetails[\"confirmPassword\"].value !== value && inputsDetails[\"confirmPassword\"].errors.length === 0){\r\n        inputsDetails[\"confirmPassword\"].errors.push(\"   \")\r\n        inputsDetails[\"confirmPassword\"].inValid = true\r\n\r\n    } else if((formType === \"register\" || formType === \"resetPassword\") && name === \"password\" && inputsDetails[\"confirmPassword\"].value && inputsDetails[\"confirmPassword\"].value === value){\r\n        inputsDetails[\"confirmPassword\"].errors = []\r\n        inputsDetails[\"confirmPassword\"].inValid = false\r\n    }\r\n    \r\n    inputsDetails[name].inValid = inValid\r\n    inputsDetails[name].value = value\r\n    inputsDetails[name].errors = newErrors\r\n\r\n   return  {...inputsDetails}\r\n\r\n}\r\n\r\n// validation objects to form\r\n\r\nconst userName = {\r\n    value: '',\r\n    name:\" \",\r\n    inValid:false,\r\n    appropriateError:\"  \",\r\n    errors:[], \r\n    validations:{\r\n        required: true, \r\n        pattern: /^[a-zA-Z0-9 \\u0590-\\u05fe]+$/i\r\n    }\r\n}\r\n\r\nconst email = {\r\n    value: '',\r\n    name:\" \",\r\n    inValid:false,\r\n    appropriateError:\" \", \r\n    errors:[], \r\n    validations:{\r\n        required: true, \r\n        pattern: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/ \r\n    }\r\n} \r\n\r\nconst password = {\r\n    value: '',\r\n    name:\"\",\r\n    inValid:false,\r\n    appropriateError:\" 6    () \",\r\n    errors:[], \r\n    validations:{\r\n        required: true, \r\n        pattern: /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{6,})/ \r\n    }\r\n}\r\n\r\nconst confirmPassword = {\r\n    value: '',\r\n    name:\" \",\r\n    inValid:false,\r\n    errors:[], \r\n    validations:{\r\n        required: true, \r\n    }\r\n}\r\n\r\nconst roomName = {\r\n    value: '',\r\n    name:\" \",\r\n    inValid:false,\r\n    appropriateError:\" () \",\r\n    errors:[], \r\n    validations:{\r\n        required: true,\r\n        pattern: /^[a-zA-Z0-9 ]+$/i \r\n    }\r\n}\r\n\r\nconst roomType = {\r\n    value: '',\r\n    name:\" \",\r\n    inValid:false,\r\n    errors:[], \r\n    validations:{\r\n        required: true, \r\n    }\r\n}\r\n\r\n\r\nexport {validation, userName, email, password, confirmPassword, roomName, roomType}","import jwt from \"jsonwebtoken\"\r\nimport {createContext} from \"react\"; \r\nimport {useHistory} from \"react-router\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {updateTokens} from \"../DAL/authenticationApi\"\r\n\r\n\r\n\r\nconst MINUTE = 60 \r\nlet inMemoryToken = \"\"\r\n\r\n\r\n\r\nconst AuthContext = createContext({\r\n    refreshToken: () => {}\r\n}); \r\n\r\n\r\n\r\nfunction AuthContextProvider({children}){\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    const logout = () => {\r\n        dispatch({type: 'LOGOUT'})\r\n    }\r\n    \r\n    \r\n    function getRefreshToken(token){\r\n        inMemoryToken = token\r\n\r\n        const decode = jwt.decode(token)\r\n        setTimeout(async () => {\r\n            const {accessToken} = await updateTokens(inMemoryToken)\r\n            if(accessToken) {\r\n                getRefreshToken(accessToken)\r\n            } else {\r\n                logout()\r\n                history.push('/login')\r\n            }\r\n    \r\n        }, (decode.exp - decode.iat - MINUTE*3)*1000)  \r\n    }\r\n\r\n\r\n    return <>\r\n        <AuthContext.Provider value = {{refreshToken: getRefreshToken}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    </>\r\n}\r\n\r\nexport  {AuthContext, AuthContextProvider, inMemoryToken}","import { inMemoryToken } from \"../Components/AuthContext\"\r\nconst baseUrl = \"http://localhost:3100\"\r\n\r\n\r\nasync function register(user){\r\n    const response = await fetch(`${baseUrl}/users/register`, {\r\n        method:'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(user)\r\n    })\r\n    return response\r\n}\r\n\r\nasync function loginUser(user){\r\n    const response = await fetch(`${baseUrl}/users/login`,{\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(user)\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nasync function updateTokens(inMemoryToken){\r\n    const response = await fetch(`${baseUrl}/refreshToken`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json', \r\n                 'authorization': `Bearer ${inMemoryToken}`}\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\nasync function logoutUser(){\r\n    fetch(`${baseUrl}/users/logout`,{\r\n        method: 'POST', \r\n        credentials: 'include', \r\n        headers:{'Content-Type': 'application/json'}\r\n    }) \r\n} \r\n\r\n\r\nasync function sendEmailToResetPassword(email){\r\n    const response = await fetch(`${baseUrl}/email/resetPassword`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers: {'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(email)\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\n\r\nasync function changePassword(reset){\r\n    const response = await fetch(`${baseUrl}/users/changePassword`, {\r\n        method: 'PUT', \r\n        cardentials: 'include',\r\n        headers:{'Content-type': 'application/json'},\r\n        body: JSON.stringify(reset)\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nexport {register, loginUser, updateTokens, logoutUser, sendEmailToResetPassword, changePassword}","import {Form, Button, Row, Col, Container} from \"react-bootstrap\"\r\nimport {useState} from \"react\"\r\nimport {validation, userName, email, password, confirmPassword} from \"../Utils/validation\"\r\nimport {register} from \"../DAL/authenticationApi\"\r\n\r\nfunction Register(){\r\n\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n    const [validMessage, setValidMessage] = useState(\"\")\r\n    const [registerInputsDetails, setRegisterInputsDetails] = useState({ \r\n        userName,\r\n        email: {...email, inValid: false, value: \"\", error: []},\r\n        password: {...password, inValid: false, value: \"\", error: []},\r\n        confirmPassword: {...confirmPassword, inValid: false, value: \"\", error: []}\r\n        })\r\n\r\n    async function submit(e){\r\n        e.preventDefault()\r\n\r\n        let isValid = true\r\n        let user = {}\r\n\r\n       for (const key in registerInputsDetails) {\r\n\r\n            user[key] = registerInputsDetails[key].value\r\n            setRegisterInputsDetails(validation({value:registerInputsDetails[key].value,name:key},registerInputsDetails, \"register\"))\r\n            if (registerInputsDetails[key].errors.length !==0){\r\n                isValid = false\r\n            }\r\n        }\r\n\r\n        if(isValid){\r\n            const response = await register(user)\r\n            const {message} = await response.json()\r\n            if(response.ok){\r\n                setValidMessage(message)\r\n            } else {\r\n                setErrorMessage(message)\r\n                setTimeout(()=>{\r\n                    setErrorMessage(\"\")\r\n                }, 4500)\r\n            }     \r\n        }\r\n    }\r\n\r\n\r\n    return<>\r\n        <Container className=\"container-base mt-4\">\r\n            <Form className=\"form-base\"> \r\n\r\n                {!validMessage&&\r\n                <Row className=\"justify-content-center\">\r\n                    <h1 className=\"text-center mt-3 mb-4\">Register</h1>\r\n\r\n                    <Col xs={10} md={8} lg={5}>\r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control id=\"userName\" type=\"text\" name=\"userName\" isInvalid={registerInputsDetails[\"userName\"].inValid} placeholder=\"Username\"\r\n                            onBlur={(e)=>{setRegisterInputsDetails(validation(e.target, registerInputsDetails, \"register\"))}}/>\r\n                            {registerInputsDetails[\"userName\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n\r\n                \r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"email\" name=\"email\" isInvalid={registerInputsDetails[\"email\"].inValid} placeholder=\"Email\"\r\n                            onBlur={(e)=>{setRegisterInputsDetails(validation(e.target, registerInputsDetails, \"register\"))}}/>\r\n                            {registerInputsDetails[\"email\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n                    </Col>\r\n                \r\n                    <Col xs={10} md={8} lg={5}>  \r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"password\" name=\"password\" isInvalid={registerInputsDetails[\"password\"].inValid} placeholder=\"Password\"\r\n                            onBlur={(e)=>{setRegisterInputsDetails(validation(e.target, registerInputsDetails, \"register\"))}}/>\r\n                            {registerInputsDetails[\"password\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n                \r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"password\" name=\"confirmPassword\" isInvalid={registerInputsDetails[\"confirmPassword\"].inValid} placeholder=\"Confirm password\"\r\n                            onBlur={(e)=>{setRegisterInputsDetails(validation(e.target, registerInputsDetails, \"register\"))}}/>\r\n                            {registerInputsDetails[\"confirmPassword\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n            \r\n                    </Col>\r\n\r\n                    <div className=\"text-center\">\r\n                            <Button className=\"btn-base mb-3\" variant=\"dark\" type=\"submit\" onClick={(e)=>submit(e)}>\r\n                                Register\r\n                            </Button>\r\n                    </div>\r\n\r\n                    <Row className=\"message-base justify-content-center align-items-center\">\r\n                    {errorMessage&&<small>{errorMessage}</small>}\r\n                    </Row>\r\n                    \r\n                </Row>}\r\n\r\n\r\n                {validMessage&&\r\n                <Row className=\"valid-register\">\r\n                    <h1 className=\"register-valid-message-header mt-4 text-center\">{validMessage}</h1>\r\n                    <h4 className=\"register-valid-message-confirm text-center\">In order to complete the sign-up process, please click the confirmation link in your inbox</h4>\r\n                </Row>}\r\n                \r\n            </Form>\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default Register","import {Form, Button, Row, Col, Container} from \"react-bootstrap\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {useState, useContext} from \"react\"\r\nimport {useHistory} from \"react-router\"\r\nimport {useDispatch} from \"react-redux\"\r\nimport {validation, email, password} from \"../Utils/validation\"\r\nimport {loginUser} from \"../DAL/authenticationApi\"\r\nimport {AuthContext} from \"../Components/AuthContext\"\r\n\r\n\r\nfunction Login(){\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const ctx = useContext(AuthContext)\r\n\r\n    const login = () => {\r\n        dispatch({type: 'LOGIN'})\r\n    }\r\n\r\n    const [message, setMessage] = useState(\"\")\r\n    const [loginInputDetails, setLoginInputDetails] = useState({\r\n        email: {...email, inValid: false, value: \"\", error: []},\r\n        password: {...password, inValid: false, value: \"\", error: []}\r\n        })\r\n\r\n        async function submit(e){\r\n            e.preventDefault()\r\n    \r\n            let isValid = true\r\n            let user = {}\r\n    \r\n           for (const key in loginInputDetails) {\r\n    \r\n                user[key] = loginInputDetails[key].value\r\n                setLoginInputDetails(validation({value:loginInputDetails[key].value,name:key},loginInputDetails, \"login\"))\r\n                if (loginInputDetails[key].errors.length !==0){\r\n                    isValid = false\r\n                }\r\n            }\r\n    \r\n            if(isValid){\r\n                const response = await loginUser(user)\r\n                const {accessToken, message} = await response.json()\r\n                setMessage(message)\r\n\r\n                if(response.ok){\r\n                    setTimeout(()=>{\r\n                        ctx.refreshToken(accessToken)\r\n                        login()\r\n                        history.push('/rooms')\r\n                    }, 2000)\r\n                    \r\n                } else {\r\n                    setTimeout(()=>{\r\n                        setMessage(\"\")\r\n                    }, 5000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    return <>\r\n        <Container className=\"container-base mt-4\">\r\n            <Form className=\"form-base\"> \r\n                \r\n                <h1 className=\"text-center mt-3 mb-4\">Login</h1>\r\n                \r\n                <Row className=\"justify-content-center\">\r\n\r\n                    <Col xs={11} md={8} lg={6}>\r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"email\" name=\"email\" isInvalid={loginInputDetails[\"email\"].inValid} placeholder=\"Email\"\r\n                            onBlur={(e)=>{setLoginInputDetails(validation(e.target,loginInputDetails, \"login\"))}}/>\r\n                            {loginInputDetails[\"email\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"password\" name=\"password\" isInvalid={loginInputDetails[\"password\"].inValid} placeholder=\"Password\"\r\n                            onBlur={(e)=>{setLoginInputDetails(validation(e.target,loginInputDetails, \"login\"))}}/>\r\n                            {loginInputDetails[\"password\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n\r\n                        <Row className=\"btn-link-base mb-3\">\r\n                            <Button className=\"btn-login\" variant=\"dark\" type=\"submit\" onClick={(e)=>{submit(e)}}>\r\n                                Login\r\n                            </Button> \r\n                            <Link className=\"link-forgot text-center\" to=\"/forgotPassword\">Forgot Password ?</Link>\r\n                        </Row>\r\n                       \r\n                    </Col>\r\n\r\n                    <Row className=\"message-base justify-content-center align-items-center mb-3\">\r\n                        {message&&<small>{message}</small>}\r\n                    </Row>\r\n\r\n                </Row>\r\n                \r\n            </Form>\r\n        </Container>\r\n        \r\n    </>\r\n}\r\n\r\nexport default Login","import { inMemoryToken } from \"../Components/AuthContext\";\r\nimport jwt from \"jsonwebtoken\"\r\n\r\nfunction decodeJwtToken(){\r\n    return jwt.decode(inMemoryToken)\r\n}\r\n\r\n\r\nfunction date(DateTime){\r\n\r\n    let date\r\n    let time\r\n\r\n        date = DateTime.slice(0,10).split(\"-\").reverse().join(\"/\")\r\n        time = DateTime.slice(11,16)\r\n\r\n    return time +\" \"+date\r\n}\r\n\r\n\r\nexport {decodeJwtToken, date}\r\n","import {Navbar, Nav} from \"react-bootstrap\"\r\nimport {NavLink, useHistory} from \"react-router-dom\"\r\nimport { useSelector, useDispatch} from \"react-redux\"\r\nimport {logoutUser} from \"../DAL/authenticationApi\"\r\nimport {decodeJwtToken} from \"../Utils/function\"\r\n\r\nfunction Bar(){\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector(state => state.isLoggedIn)\r\n    \r\n    if(isLoggedIn){\r\n        var {userName} = decodeJwtToken()\r\n    }\r\n    \r\n    const logout = () => {\r\n        dispatch({type: 'LOGOUT'})\r\n    }\r\n\r\n\r\n    function toLogout(){\r\n        logout()\r\n        history.push('/')\r\n        logoutUser()\r\n    }\r\n\r\n    return <>\r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" className=\"Nav-Bar\">\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                {!isLoggedIn&&<Nav>\r\n                    <NavLink to=\"/register\" className=\"nav-link nav-auth\">Register</NavLink>\r\n                    <NavLink to=\"/login\" className=\"nav-link nav-auth\">Login</NavLink>\r\n                </Nav>}\r\n\r\n                {isLoggedIn&&<Navbar.Collapse className=\"link-rooms\">\r\n                    <Nav>\r\n                        <NavLink to=\"/rooms\" className=\"nav-link nav-auth\">Chat Rooms</NavLink>\r\n                        <NavLink to=\"/createRoom\" className=\"nav-link nav-auth\">Create Room</NavLink>\r\n                    </Nav>\r\n                    <Nav className=\"\">\r\n                        <div className=\"userName-nav\"><b>Hello, {userName}</b></div>\r\n                        <NavLink to=\"/\" className=\"nav-link nav-auth\" onClick = {()=>toLogout()}>Logout</NavLink>\r\n                    </Nav>\r\n                </Navbar.Collapse>}\r\n            </Navbar.Collapse>\r\n\r\n    </Navbar>\r\n    </>\r\n}\r\n\r\nexport default Bar","import {Form, Button, Row, Col, Container} from \"react-bootstrap\"\r\nimport {useState} from \"react\"\r\nimport { email ,validation} from \"../Utils/validation\"\r\nimport {sendEmailToResetPassword} from \"../DAL/authenticationApi\"\r\n\r\nfunction ForgotPassword(){\r\n\r\n    email.inValid = false \r\n    email.errors = [] \r\n    \r\n    const [emailToResetPassword, setEmailToResetPassword] = useState({\r\n          email: {...email, inValid: false, value: \"\", error: []}\r\n        })\r\n    const [message, setMessage] = useState(\"\")\r\n\r\n\r\n    async function submit(e){\r\n        e.preventDefault()\r\n        let isValid = true\r\n\r\n        setEmailToResetPassword(validation({value:emailToResetPassword[\"email\"].value, name:\"email\"}, emailToResetPassword, \"forgotPassword\"))\r\n        if (emailToResetPassword[\"email\"].errors.length !==0){\r\n            isValid = false\r\n        }\r\n        \r\n        if(isValid){\r\n            const {message} = await sendEmailToResetPassword({email: emailToResetPassword[\"email\"].value})\r\n            setMessage(message)\r\n            setTimeout(()=>{\r\n                setMessage(\"\")\r\n            },4000)\r\n        }\r\n    }\r\n\r\n    return <>\r\n        <Container className=\"container-base mt-4\">\r\n            <Form className=\"form-base\"> \r\n                \r\n                <h1 className=\"text-center mt-3 mb-4\">Forgot Password</h1>\r\n                <Row className=\"justify-content-center\">\r\n\r\n                    <Col xs={11} md={8} lg={6}>\r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"email\" name=\"email\" isInvalid={emailToResetPassword[\"email\"].inValid} placeholder=\"Email\"\r\n                            onBlur={(e)=>{setEmailToResetPassword(validation(e.target,emailToResetPassword, \"forgotPassword\"))}}/>\r\n                            {emailToResetPassword[\"email\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n\r\n\r\n                        <div className=\"text-center\">\r\n                            <Button className=\"btn-base mb-3\" variant=\"dark\" type=\"submit\" onClick={(e)=>{submit(e)}}>\r\n                                Submit\r\n                            </Button>\r\n                        </div>\r\n                    </Col>\r\n\r\n                    <Row className=\"message-base justify-content-center align-items-center mb-3\">\r\n                        {message&&<small>{message}</small>}\r\n                    </Row>\r\n\r\n                </Row>\r\n                \r\n            </Form>\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default ForgotPassword","import {Form, Button, Row, Col, Container} from \"react-bootstrap\"\r\nimport { useState } from \"react\"\r\nimport { useParams, useHistory } from \"react-router\"\r\nimport { confirmPassword, password, validation } from \"../Utils/validation\"\r\nimport {changePassword} from \"../DAL/authenticationApi\"\r\n\r\nfunction ResetPassword(){\r\n\r\n    let { token } = useParams()\r\n    const history = useHistory()\r\n\r\n    const [resetPassword, setResetPassword] = useState({\r\n        password: {...password, inValid: false, value: \"\", error: []}, \r\n        confirmPassword: {...confirmPassword, inValid: false, value: \"\", error: []}\r\n    })\r\n\r\n    const [message, setMessage] = useState(\"\")\r\n\r\n\r\n    async function submit(e){\r\n        e.preventDefault()\r\n        let isValid = true\r\n            let reset = {}\r\n    \r\n           for (const key in resetPassword) {\r\n    \r\n            reset[key] = resetPassword[key].value\r\n                setResetPassword(validation({value:resetPassword[key].value,name:key},resetPassword, \"login\"))\r\n                if (resetPassword[key].errors.length !==0){\r\n                    isValid = false\r\n                }\r\n            }\r\n    \r\n            if(isValid){\r\n                reset[\"token\"] = token\r\n                const response = await changePassword(reset)\r\n                const {message} = await response.json()\r\n                setMessage(message)\r\n                if(response.ok){\r\n                    setTimeout(()=>{\r\n                        setMessage(\"\")\r\n                        history.push(\"/login\")\r\n                    }, 3000)\r\n                } else {\r\n                    setTimeout(()=>{\r\n                        setMessage(\"\")\r\n                    }, 3000)\r\n                }\r\n                \r\n            }\r\n    }\r\n\r\n\r\n\r\n    return <>\r\n         <Container className=\"container-base mt-4\">\r\n            <Form className=\"form-base\"> \r\n                <h1 className=\"text-center mt-3 mb-4\">Reset Password</h1>\r\n                <Row className=\"justify-content-center\">\r\n\r\n                    <Col xs={11} md={8} lg={6}>\r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"password\" name=\"password\" isInvalid={resetPassword[\"password\"].inValid} placeholder=\"Password\"\r\n                            onBlur={(e)=>{setResetPassword(validation(e.target,resetPassword, \"resetPassword\"))}}/>\r\n                            {resetPassword[\"password\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"input-base\">\r\n                            <Form.Control type=\"password\" name=\"confirmPassword\" isInvalid={resetPassword[\"confirmPassword\"].inValid} placeholder=\"Confirm Password\"\r\n                            onBlur={(e)=>{setResetPassword(validation(e.target,resetPassword, \"resetPassword\"))}}/>\r\n                            {resetPassword[\"confirmPassword\"].errors.map((value,index)=>\r\n                            {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                        </Form.Group>\r\n\r\n\r\n                        <div className=\"text-center\">\r\n                            <Button className=\"btn-base mb-3\" variant=\"dark\" type=\"submit\" onClick={(e)=>submit(e)}>\r\n                                Submit\r\n                            </Button>\r\n                        </div>\r\n                    </Col>\r\n\r\n                    <Row className=\"message-base justify-content-center align-items-center mb-3\">\r\n                        {message&&<small>{message}</small>}\r\n                    </Row>\r\n\r\n                </Row>\r\n            </Form>\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default ResetPassword","import {Row, Spinner} from 'react-bootstrap'\r\n\r\n\r\nfunction Loader(){\r\n    return <>\r\n        <h3 className=\" text-center mt-5\">Loading</h3>\r\n        <Row className=\"justify-content-center\">\r\n            <Spinner animation=\"border\" variant=\"dark\" />\r\n        </Row>\r\n    </>\r\n}\r\n\r\nexport default Loader","import {useEffect, useContext} from \"react\"\r\nimport {useDispatch} from \"react-redux\"\r\nimport {AuthContext} from '../Components/AuthContext'\r\nimport Loader from \"./Loader\"\r\nimport {updateTokens} from \"../DAL/authenticationApi\"\r\n\r\n\r\nfunction Initialization(){\r\n\r\n    const ctx = useContext(AuthContext)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const login = () => {\r\n        dispatch({type: 'LOGIN'})\r\n    }\r\n\r\n    const logout = () => {\r\n        dispatch({type: 'LOGOUT'})\r\n    }\r\n\r\n    const start = () => {\r\n        dispatch({type: 'START'})\r\n    }\r\n\r\n    useEffect(()=>{\r\n        (async ()=>{\r\n            const {accessToken} = await updateTokens()\r\n            if(accessToken) {\r\n                login()\r\n                ctx.refreshToken(accessToken)\r\n            } else {\r\n                logout()\r\n            }\r\n            setTimeout(()=>{\r\n                start()\r\n            }, 350)\r\n        })()\r\n    },[])\r\n\r\n    return <>\r\n        <Loader/>\r\n    </>\r\n}\r\n\r\nexport default Initialization","const baseUrl = \"http://localhost:3100\"\r\n\r\n\r\nasync function createNewRoom(room){\r\n    const response = await fetch(`${baseUrl}/rooms`, {\r\n        method: 'POST', \r\n        credentials: 'include', \r\n        headers: {'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(room)\r\n    })\r\n    return response\r\n}\r\n\r\nasync function getRooms(roomName){\r\n    const response = await fetch(`${baseUrl}/api/rooms?roomName=${roomName}`)\r\n    return response.json()\r\n}\r\n\r\nasync function getMessges(id, skip){\r\n    const response = await fetch(`${baseUrl}/rooms/messages/?id=${id}&skip=${skip}`)\r\n    return response.json()\r\n}\r\n\r\nasync function getUsers(id){\r\n    const response = await fetch(`${baseUrl}/rooms/users/${id}`)\r\n    return response.json()\r\n}\r\n\r\nasync function changeMessagesViewed(messagesChanged){\r\n    const response = await fetch(`${baseUrl}/rooms/changeViewed`, {\r\n        method: 'PUT', \r\n        credentials: 'include', \r\n        headers: {'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(messagesChanged)\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\nexport {createNewRoom, getRooms, getMessges, getUsers, changeMessagesViewed}","import { useState } from \"react\"\r\nimport {Form, Row, Col, Container, Button} from \"react-bootstrap\"\r\nimport {roomName, validation} from \"../Utils/validation\"\r\nimport {createNewRoom} from \"../DAL/roomsApi\"\r\nimport {decodeJwtToken} from \"../Utils/function\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nfunction CreateRoom(){\r\n\r\n    const history = useHistory()\r\n    const {id} = decodeJwtToken()\r\n\r\n\r\n    const [message, setMessage] = useState(\"\")\r\n    const [roomDetails, setRoomDetails] = useState({ \r\n        roomName,\r\n        })\r\n\r\n    async function submit(e){\r\n        e.preventDefault()\r\n\r\n        let isValid = true\r\n        let room = {}\r\n\r\n\r\n       for (const key in roomDetails) {\r\n\r\n            room[key] = roomDetails[key].value\r\n            setRoomDetails(validation({value:roomDetails[key].value,name:key},roomDetails))\r\n            if (roomDetails[key].errors.length !==0){\r\n                isValid = false\r\n            }\r\n        }\r\n\r\n        if(isValid){\r\n            room[\"admin\"] = id\r\n            const response = await createNewRoom(room)\r\n            const {message} = await response.json()\r\n            setMessage(message)\r\n\r\n            if(response.ok){\r\n                setTimeout(()=>{\r\n                    history.push('/rooms')\r\n                }, 2000)\r\n                \r\n            } else {\r\n                setTimeout(()=>{\r\n                    setMessage(\"\")\r\n                }, 4000)\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    return<>\r\n    <Container className=\"container-base mt-4\">\r\n        <Form className=\"form-base\">\r\n\r\n            <h1 className=\"text-center mt-3 mb-4\">Create Room</h1>\r\n\r\n            <Row className=\"justify-content-center mt-5 \">\r\n\r\n                <Col className=\"input-create-room\" xs={11} md={7} lg={5}>\r\n                    <Form.Group>\r\n                        <Form.Control id=\"roomName\" type=\"text\" name=\"roomName\" isInvalid={roomDetails[\"roomName\"].inValid} placeholder=\"Room Name\"\r\n                        onBlur={(e)=>{setRoomDetails(validation(e.target, roomDetails))}}/>\r\n                        {roomDetails[\"roomName\"].errors.map((value,index)=>\r\n                        {return <Form.Control.Feedback className=\"feedback\" key={index} type=\"invalid\"> {value} </Form.Control.Feedback>})}\r\n                    </Form.Group>\r\n                </Col>\r\n\r\n                <div className=\"text-center\">\r\n                    <Button className=\"btn-base mb-3 mt-5\" variant=\"dark\" type=\"submit\" onClick={(e)=>submit(e)}>\r\n                        Create\r\n                    </Button>\r\n                </div>\r\n\r\n                <Row className=\"message-base justify-content-center align-items-center mb-3\">\r\n                    {message&&<small>{message}</small>}\r\n                </Row>\r\n\r\n            </Row>\r\n        </Form>\r\n    </Container>\r\n    </>\r\n}\r\n\r\nexport default CreateRoom","import {useHistory} from \"react-router-dom\"\r\n\r\nfunction CardRoom({room}){\r\n\r\n    const history = useHistory()\r\n\r\n    return<>\r\n        <div className=\"room-card\">\r\n            <h5 className=\"text-center\">{room.roomName}</h5>\r\n            <hr className=\"mb-4\"></hr>\r\n            <p>Admin : {room.admin.name}</p>\r\n            <p className=\"inside-room\" onClick={()=>history.push(`/room/${room.roomName}`, room)}><b>Get Inside</b></p>\r\n        </div>\r\n\r\n    </>\r\n}\r\n\r\nexport default CardRoom","import { useEffect, useState } from \"react\"\r\nimport { getRooms } from \"../DAL/roomsApi\"\r\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\"\r\nimport CardRoom from \"../Components/CardRoom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nfunction Rooms(){\r\n\r\n    const [rooms, setRooms] = useState([]) // id, roomName, admin, roomType\r\n    const [searchRoom, setSearchRoom] = useState('') // id, roomName, admin, roomType\r\n    const [spinner, setSpinner] = useState(true) // id, roomName, admin, roomType\r\n\r\n    useEffect(()=>{\r\n        const timeToOpreate = setTimeout(async()=>{\r\n            setSpinner(true)\r\n            const search = await getRooms(searchRoom)\r\n            setRooms(search)\r\n            stopSpinner()\r\n        }, 600)\r\n\r\n        return () => {\r\n            clearTimeout(timeToOpreate)\r\n        }\r\n\r\n    }, [searchRoom])\r\n\r\n\r\n    function stopSpinner(){\r\n        setTimeout(()=>{\r\n            setSpinner(false)\r\n        }, 400)\r\n    }\r\n\r\n\r\n    return <>\r\n        <h1 className =\"header text-center\">Chat Rooms</h1>\r\n        <Container>\r\n            <div className=\" mb-4 d-flex justify-content-center\">\r\n                <div className=\"search-rooms d-flex col-10 col-lg-4 col-md-6\">\r\n                    <input className=\"search-input\" type='text' placeholder=\"Search Room\" onChange={(e)=>setSearchRoom(e.target.value.trim())}></input>\r\n                    <FontAwesomeIcon icon={faSearch} className=\"icon-search\"/>\r\n                </div>\r\n            </div>\r\n\r\n            {!spinner && rooms.length !== 0 &&<Row>\r\n                {rooms.map((room, index) =>\r\n                {return <Col key={index} xs={9} md={6} lg={4} className=\"mb-3 mx-auto mx-md-0\">\r\n                    <CardRoom room = {room}/>\r\n                </Col>})}\r\n            </Row>}\r\n\r\n            {!spinner && rooms.length === 0 &&<Row>\r\n                        <h3 className=\"text-center\">No Results</h3>\r\n                    </Row>}\r\n\r\n            {spinner&&<div className=\"d-flex justify-content-center mt-5\">\r\n                        <h6 className=\"text-center\">Loading</h6>\r\n                        <Spinner animation=\"grow\" size=\"sm\" className=\"mx-2 my-auto\"/>\r\n                    </div>}\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default Rooms","import { useEffect, useState, useRef } from \"react\"\r\nimport { useLocation } from \"react-router\"\r\nimport {decodeJwtToken, date} from \"../Utils/function\"\r\nimport io from 'socket.io-client'\r\nimport { Container, Row} from \"react-bootstrap\"\r\nimport InfiniteScrollReverse from \"react-infinite-scroll-reverse\"\r\nimport {getMessges, getUsers, changeMessagesViewed} from \"../DAL/roomsApi\"\r\nimport {BiMessageDetail} from \"react-icons/bi\"\r\nimport {FaUsers} from \"react-icons/fa\"\r\nimport {BsCheck} from \"react-icons/bs\"\r\n\r\n\r\nlet socket \r\nlet morePagination = true\r\n\r\nfunction Room(){\r\n\r\n    const ENDPOINT = \"localhost:3100\"\r\n    const messagesEndRef = useRef()\r\n    const {id, userName} = decodeJwtToken()\r\n    const {state} = useLocation()\r\n\r\n    const [room, setRoom] = useState(state) // id, roomName, admin\r\n    const [name, setName] = useState(userName) // userName\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    const [usersRoom, setUsersRoom] = useState([])\r\n    const [bottom, setBottom] = useState(true)\r\n    const [message, setMessage] = useState('') \r\n    const [messages, setMessages] = useState([])\r\n\r\n\r\n\r\n    const scrollToBottom = () => {\r\n      messagesEndRef.current?.scrollIntoView({})\r\n    }\r\n\r\n    useEffect(()=>{scrollToBottom()}, [bottom])\r\n  \r\n    useEffect(()=>{\r\n        getListUsers()\r\n        getMoreMessages(1)\r\n    }, [])\r\n\r\n   \r\n    useEffect(()=>{\r\n        socket = io(ENDPOINT)\r\n        socket.emit('join', {id, name, room}, ()=>{\r\n        })\r\n\r\n        return () => {\r\n            socket.emit('disconnection', {name, room}, ()=>{\r\n            })\r\n\r\n            socket.off()\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on('message', ({message}) => {\r\n\r\n            if(message.user === \"\" && message.text === \"\") {  // i joined\r\n                getListUsers()\r\n\r\n            } else if(message.user === \"\" && message.text !== \"\"){ //else user joined or left\r\n                getListUsers()\r\n                setMessages(messages => [ ...messages, message ])\r\n\r\n            } else{\r\n                setMessages(messages => [ ...messages, message ])\r\n                setBottom(prev => !prev) // when get new mesage the scroller go bottom\r\n            }       \r\n        })\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on('changeViewed', ({messagesChanged}) => {\r\n\r\n            const messagesId = messagesChanged.map(message => {\r\n                if(message.userName === name){\r\n                    return message.id\r\n                }\r\n            })\r\n\r\n            setMessages(messages => messages.map(message => {\r\n                if (messagesId.includes(message._id)){\r\n                    return { ...message, view: true }\r\n                } else {\r\n                    return message\r\n                }\r\n            }))\r\n        })\r\n    },[])\r\n\r\n\r\n    function sendMessage(){\r\n        if(message.trim()){\r\n            let view \r\n            usersRoom.length > 1 ? view = true : view = false\r\n            socket.emit('sendMessage', {name, room, message, view}, ()=>{\r\n            })\r\n            setMessage(\"\")\r\n        }\r\n    }\r\n\r\n    async function getListUsers(){\r\n        const users = await getUsers(room.id) \r\n        setUsersRoom(users)\r\n    }\r\n\r\n    async function getMoreMessages(skip) {\r\n        setIsLoading(true)\r\n        const {lastData, nextMessages} = await getMessges(room.id, skip-1) \r\n\r\n        setTimeout(() => {\r\n            setMessages([...nextMessages, ...messages])\r\n            setIsLoading(false)\r\n            viewedMessages(nextMessages)\r\n        }, 300)\r\n\r\n        if(lastData) {\r\n            morePagination = false\r\n        }\r\n    }\r\n\r\n    function  viewedMessages(nextMessages){\r\n        const messagesChanged = nextMessages.map((message)=>{ \r\n            if(message.user !== name && message.view === false){\r\n                message.view = true \r\n                return {id: message._id, userName: message.user }\r\n            }\r\n        }).filter(message => message !== undefined)\r\n\r\n        if(messagesChanged.length > 0){\r\n\r\n            socket.emit('changeViewedMessages', {room, messagesChanged}, ()=>{\r\n            })\r\n\r\n            changeMessagesViewed(messagesChanged)\r\n        }\r\n    }\r\n\r\n\r\n    return <>\r\n        <Container>\r\n            <Row className=\"justify-content-center mt-4\">\r\n                <div className=\"chat-header\">\r\n                    <h4 className=\"text-center mt-2\">Chat Room</h4>\r\n                </div>\r\n\r\n\r\n                <div className=\"chat-body\">\r\n                    <div className=\"chat-side-bar\">\r\n                        <div className=\"name-room\">\r\n                            <BiMessageDetail size={25} className=\"icon-msg\"/> <h6>Room Name :</h6>\r\n                        </div>\r\n\r\n                        <div className=\"header-room\">\r\n                            <h4 className=\"text-center\">{room.roomName}</h4>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <div className=\"name-room mb-2\">\r\n                                <FaUsers size={25} className=\"icon-msg\"/>\r\n                                 <h6>Users :</h6>\r\n                            </div>\r\n                            <div className=\"users-room\">\r\n                                {usersRoom.map((user, index)=> <p key = {index}>{user.userName}</p>)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"chat-message-textArea\">\r\n                        <InfiniteScrollReverse\r\n                        className=\"chat-messages\"\r\n                        hasMore={morePagination}\r\n                        isLoading={isLoading}\r\n                        loadMore={getMoreMessages}\r\n                        loadArea={50}\r\n                        >\r\n                            \r\n                            {messages.map((message, index)=>{\r\n                                return  <div key={index} ref = {index === messages.length-1 ? messagesEndRef : null } className={`chat-out ${message.user === name ? \"left\" : \"right\" }`}> \r\n                                            <span className={`chat-rectangle ${message.user === name ? \"my-color\" : \"other-color\" }`}>\r\n                                                {message.user&&<p className=\"chat-rectangle-name-date my-0 pt-1 pb-0\"> <span>{message.user}</span> <span>{date(message.date)}</span></p>}\r\n                                                <div className=\"d-flex justify-content-between\">\r\n                                                    <p className=\"chat-rectangle-message\">{message.text}</p>\r\n                                                    {message.user===name&&<BsCheck size = {30} className={`${message.view ? \"icon-v-view\" : \"icon-v-not-view\"} mt-0 mb-0`}/>}                                         \r\n                                                </div>\r\n                                            </span>\r\n                                        </div> \r\n                            })}\r\n                        \r\n                        </InfiniteScrollReverse>\r\n\r\n                        <div className=\"textarea-message\">\r\n                            <textarea className=\"textArea\" rows=\"2\" value={message} onChange={(e)=>setMessage(e.target.value)}/>\r\n                            <button className=\"btn-message\" variant=\"primary\" onClick = {sendMessage}>Send</button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n\r\n                <div className=\"chat-footer\">\r\n                    <p>Admin : {room.admin.name}</p>\r\n                </div>\r\n            </Row>\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default Room","import \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport \"./CSS/index.css\"\r\nimport { Switch, Route, Redirect } from \"react-router-dom\"\r\nimport { useSelector } from \"react-redux\"\r\nimport HomePage from \"./Components/HomePage\"\r\nimport Register from \"./Components/Register\"\r\nimport Login from \"./Components/Login\"\r\nimport Bar from \"./Components/Bar\"\r\nimport ForgotPassword from \"./Components/ForgotPassword\"\r\nimport ResetPassword from \"./Components/ResetPassword\"\r\nimport Initialization from \"./Components/Initialization\"\r\nimport CreateRoom from \"./Components/CreateRoom\"\r\nimport Rooms from \"./Components/Rooms\"\r\nimport Room from \"./Components/Room\"\r\n\r\n\r\nfunction App() {\r\n  const isLoggedIn = useSelector((state) => state.isLoggedIn)\r\n  const loader = useSelector((state) => state.loader)\r\n  \r\n  if (loader) return <Initialization/>\r\n  return (\r\n    <>\r\n      <Bar />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n        {!isLoggedIn && <HomePage />}\r\n          {isLoggedIn && <Redirect to=\"/rooms\"/>}\r\n        </Route>\r\n\r\n        <Route exact path=\"/register\">\r\n          {!isLoggedIn && <Register />}\r\n          {isLoggedIn && <Redirect to=\"/\" />}\r\n        </Route>\r\n\r\n        <Route exact path=\"/login\">\r\n          {!isLoggedIn && <Login />}\r\n          {isLoggedIn && <Redirect to=\"/\" />}\r\n        </Route>\r\n\r\n        <Route exact path=\"/forgotPassword\">\r\n          {!isLoggedIn && <ForgotPassword />}\r\n          {isLoggedIn && <Redirect to=\"/\" />}\r\n        </Route>\r\n\r\n        <Route exact path=\"/resetPassword/:token\">\r\n          {!isLoggedIn && <ResetPassword />}\r\n          {isLoggedIn && <Redirect to=\"/\" />}\r\n        </Route>\r\n\r\n        <Route exact path=\"/createRoom\">\r\n          {isLoggedIn && <CreateRoom/>}\r\n          {!isLoggedIn && <Redirect to=\"/\"/>}\r\n        </Route>\r\n\r\n        <Route exact path=\"/rooms\">\r\n          {isLoggedIn && <Rooms/>}\r\n          {!isLoggedIn && <Redirect to=\"/\"/>}\r\n        </Route>\r\n\r\n        <Route exact path=\"/room/:name\">\r\n          {isLoggedIn && <Room/>}\r\n          {!isLoggedIn && <Redirect to=\"/\"/>}\r\n        </Route>\r\n\r\n        <Route path=\"*\">\r\n          <Redirect to=\"/\" />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore } from \"redux\"\r\n\r\nconst initialStates = { isLoggedIn: 0, loader: true }\r\n\r\nconst myStates = (state = initialStates, action) => {\r\n  if (action.type === \"LOGIN\") {\r\n    return {\r\n      ...state,\r\n      isLoggedIn: true,\r\n    }\r\n  }\r\n\r\n  if (action.type === \"LOGOUT\") {\r\n    return {\r\n      ...state,\r\n      isLoggedIn: false,\r\n    }\r\n  }\r\n\r\n  if (action.type === \"LOADING\") {\r\n    return {\r\n      ...state,\r\n      loader: true,\r\n    }\r\n  }\r\n\r\n  if (action.type === \"START\") {\r\n    return {\r\n      ...state,\r\n      loader: false,\r\n    }\r\n  }\r\n\r\n  return state\r\n}\r\n\r\nconst store = createStore(myStates)\r\n\r\nexport default store\r\n","import \"bootstrap/dist/css/bootstrap.min.css\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./chat/index\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport { BrowserRouter as Router } from \"react-router-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"./chat/Redux/store\"\nimport { AuthContextProvider } from \"./chat/Components/AuthContext\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <AuthContextProvider>\n          <App/>\n        </AuthContextProvider>\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"]}}