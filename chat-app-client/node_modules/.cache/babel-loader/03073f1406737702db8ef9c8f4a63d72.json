{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u05E0\\u05E8\\u05D9\\u05D4/Desktop/chat rooms/chatRoomsFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/\\u05E0\\u05E8\\u05D9\\u05D4/Desktop/chat rooms/chatRoomsFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/\\u05E0\\u05E8\\u05D9\\u05D4/Desktop/chat rooms/chatRoomsFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{getRooms}from\"../DAL/roomsApi\";import{Container,Row,Col,Spinner}from\"react-bootstrap\";import CardRoom from\"../Components/CardRoom\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSearch}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Rooms(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];// id, roomName, admin, roomType\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchRoom=_useState4[0],setSearchRoom=_useState4[1];// id, roomName, admin, roomType\nvar _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),spinner=_useState6[0],setSpinner=_useState6[1];// id, roomName, admin, roomType\nuseEffect(function(){var timeToOpreate=setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var search;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSpinner(true);_context.next=3;return getRooms(searchRoom);case 3:search=_context.sent;setRooms(search);stopSpinner();case 6:case\"end\":return _context.stop();}}},_callee);})),900);return function(){clearTimeout(timeToOpreate);};},[searchRoom]);function stopSpinner(){setTimeout(function(){setSpinner(false);},450);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header text-center\",children:\"Chat Rooms\"}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\" mb-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-rooms d-flex col-10 col-lg-4 col-md-6\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-input\",type:\"text\",placeholder:\"Search Room\",onChange:function onChange(e){return setSearchRoom(e.target.value.trim());}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,className:\"icon-search\"})]})}),!spinner&&rooms.length!==0&&/*#__PURE__*/_jsx(Row,{children:rooms.map(function(room,index){return/*#__PURE__*/_jsx(Col,{xs:9,md:6,lg:4,className:\"mb-3 mx-auto mx-md-0\",children:/*#__PURE__*/_jsx(CardRoom,{room:room})},index);})}),!spinner&&rooms.length===0&&/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"No Results\"})}),spinner&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center mt-5\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-center\",children:\"Loading\"}),/*#__PURE__*/_jsx(Spinner,{animation:\"grow\",size:\"sm\",className:\"mx-2 my-auto\"})]})]})]});}export default Rooms;","map":{"version":3,"sources":["C:/Users/נריה/Desktop/chat rooms/chatRoomsFrontend/src/chat/Components/Rooms.js"],"names":["useEffect","useState","getRooms","Container","Row","Col","Spinner","CardRoom","FontAwesomeIcon","faSearch","Rooms","rooms","setRooms","searchRoom","setSearchRoom","spinner","setSpinner","timeToOpreate","setTimeout","search","stopSpinner","clearTimeout","e","target","value","trim","length","map","room","index"],"mappings":"ojBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,CAA8BC,OAA9B,KAA6C,iBAA7C,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,QAAT,KAAyB,mCAAzB,C,6IAEA,QAASC,CAAAA,KAAT,EAAgB,CAEZ,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eAAuC;AACvC,eAAoCX,QAAQ,CAAC,EAAD,CAA5C,yCAAOY,UAAP,eAAmBC,aAAnB,eAAiD;AACjD,eAA8Bb,QAAQ,CAAC,IAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eAA6C;AAE7ChB,SAAS,CAAC,UAAI,CACV,GAAMiB,CAAAA,aAAa,CAAGC,UAAU,sEAAC,8IAC7BF,UAAU,CAAC,IAAD,CAAV,CAD6B,sBAERd,CAAAA,QAAQ,CAACW,UAAD,CAFA,QAEvBM,MAFuB,eAG7BP,QAAQ,CAACO,MAAD,CAAR,CACAC,WAAW,GAJkB,sDAAD,GAK7B,GAL6B,CAAhC,CAOA,MAAO,WAAM,CACTC,YAAY,CAACJ,aAAD,CAAZ,CACH,CAFD,CAIH,CAZQ,CAYN,CAACJ,UAAD,CAZM,CAAT,CAeA,QAASO,CAAAA,WAAT,EAAsB,CAClBF,UAAU,CAAC,UAAI,CACXF,UAAU,CAAC,KAAD,CAAV,CACH,CAFS,CAEP,GAFO,CAAV,CAGH,CAGD,mBAAO,wCACH,WAAI,SAAS,CAAE,oBAAf,wBADG,cAEH,MAAC,SAAD,yBACI,YAAK,SAAS,CAAC,qCAAf,uBACI,aAAK,SAAS,CAAC,8CAAf,wBACI,cAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,WAAW,CAAC,aAAxD,CAAsE,QAAQ,CAAE,kBAACM,CAAD,QAAKR,CAAAA,aAAa,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,IAAf,EAAD,CAAlB,EAAhF,EADJ,cAEI,KAAC,eAAD,EAAiB,IAAI,CAAEhB,QAAvB,CAAiC,SAAS,CAAC,aAA3C,EAFJ,GADJ,EADJ,CAQK,CAACM,OAAD,EAAYJ,KAAK,CAACe,MAAN,GAAiB,CAA7B,eAAiC,KAAC,GAAD,WAC7Bf,KAAK,CAACgB,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,CACX,CAAC,mBAAO,KAAC,GAAD,EAAiB,EAAE,CAAE,CAArB,CAAwB,EAAE,CAAE,CAA5B,CAA+B,EAAE,CAAE,CAAnC,CAAsC,SAAS,CAAC,sBAAhD,uBACJ,KAAC,QAAD,EAAU,IAAI,CAAID,IAAlB,EADI,EAAUC,KAAV,CAAP,CAEM,CAHN,CAD6B,EARtC,CAeK,CAACd,OAAD,EAAYJ,KAAK,CAACe,MAAN,GAAiB,CAA7B,eAAiC,KAAC,GAAD,wBACtB,WAAI,SAAS,CAAC,aAAd,wBADsB,EAftC,CAmBKX,OAAO,eAAE,aAAK,SAAS,CAAC,oCAAf,wBACE,WAAI,SAAS,CAAC,aAAd,qBADF,cAEE,KAAC,OAAD,EAAS,SAAS,CAAC,MAAnB,CAA0B,IAAI,CAAC,IAA/B,CAAoC,SAAS,CAAC,cAA9C,EAFF,GAnBd,GAFG,GAAP,CA2BH,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { getRooms } from \"../DAL/roomsApi\"\r\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\"\r\nimport CardRoom from \"../Components/CardRoom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nfunction Rooms(){\r\n\r\n    const [rooms, setRooms] = useState([]) // id, roomName, admin, roomType\r\n    const [searchRoom, setSearchRoom] = useState('') // id, roomName, admin, roomType\r\n    const [spinner, setSpinner] = useState(true) // id, roomName, admin, roomType\r\n\r\n    useEffect(()=>{\r\n        const timeToOpreate = setTimeout(async()=>{\r\n            setSpinner(true)\r\n            const search = await getRooms(searchRoom)\r\n            setRooms(search)\r\n            stopSpinner()\r\n        }, 900)\r\n\r\n        return () => {\r\n            clearTimeout(timeToOpreate)\r\n        }\r\n\r\n    }, [searchRoom])\r\n\r\n\r\n    function stopSpinner(){\r\n        setTimeout(()=>{\r\n            setSpinner(false)\r\n        }, 450)\r\n    }\r\n\r\n\r\n    return <>\r\n        <h1 className =\"header text-center\">Chat Rooms</h1>\r\n        <Container>\r\n            <div className=\" mb-4 d-flex justify-content-center\">\r\n                <div className=\"search-rooms d-flex col-10 col-lg-4 col-md-6\">\r\n                    <input className=\"search-input\" type='text' placeholder=\"Search Room\" onChange={(e)=>setSearchRoom(e.target.value.trim())}></input>\r\n                    <FontAwesomeIcon icon={faSearch} className=\"icon-search\"/>\r\n                </div>\r\n            </div>\r\n\r\n            {!spinner && rooms.length !== 0 &&<Row>\r\n                {rooms.map((room, index) =>\r\n                {return <Col key={index} xs={9} md={6} lg={4} className=\"mb-3 mx-auto mx-md-0\">\r\n                    <CardRoom room = {room}/>\r\n                </Col>})}\r\n            </Row>}\r\n\r\n            {!spinner && rooms.length === 0 &&<Row>\r\n                        <h3 className=\"text-center\">No Results</h3>\r\n                    </Row>}\r\n\r\n            {spinner&&<div className=\"d-flex justify-content-center mt-5\">\r\n                        <h6 className=\"text-center\">Loading</h6>\r\n                        <Spinner animation=\"grow\" size=\"sm\" className=\"mx-2 my-auto\"/>\r\n                    </div>}\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default Rooms"]},"metadata":{},"sourceType":"module"}