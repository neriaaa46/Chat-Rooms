{"ast":null,"code":"import { inMemoryToken } from \"../Components/AuthContext\";\nconst baseUrl = \"http://localhost:3100\";\n\nasync function register(user) {\n  const response = await fetch(`${baseUrl}/users/register`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  });\n  return response;\n}\n\nasync function loginUser(user) {\n  const response = await fetch(`${baseUrl}/users/login`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  });\n  return response;\n}\n\nasync function updateTokens(inMemoryToken) {\n  const response = await fetch(`${baseUrl}/refreshToken`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n      'authorization': `Bearer ${inMemoryToken}`\n    }\n  });\n  return response.json();\n}\n\nasync function logoutUser() {\n  fetch(`${baseUrl}/users/logout`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\nasync function sendEmailToResetPassword(email) {\n  const response = await fetch(`${baseUrl}/email/resetPassword`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(email)\n  });\n  return response.json();\n}\n\nasync function changePassword(reset) {\n  const response = await fetch(`${baseUrl}/users/changePassword`, {\n    method: 'PUT',\n    cardentials: 'include',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(reset)\n  });\n  return response;\n}\n\nexport { register, loginUser, updateTokens, logoutUser, sendEmailToResetPassword, changePassword };","map":{"version":3,"sources":["C:/Users/נריה/Desktop/chat rooms/Frontend/src/chat/DAL/authenticationApi.js"],"names":["inMemoryToken","baseUrl","register","user","response","fetch","method","credentials","headers","body","JSON","stringify","loginUser","updateTokens","json","logoutUser","sendEmailToResetPassword","email","changePassword","reset","cardentials"],"mappings":"AAAA,SAASA,aAAT,QAA8B,2BAA9B;AACA,MAAMC,OAAO,GAAG,uBAAhB;;AAGA,eAAeC,QAAf,CAAwBC,IAAxB,EAA6B;AACzB,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,OAAQ,iBAAZ,EAA8B;AACtDK,IAAAA,MAAM,EAAC,MAD+C;AAEtDC,IAAAA,WAAW,EAAE,SAFyC;AAGtDC,IAAAA,OAAO,EAAC;AAAC,sBAAgB;AAAjB,KAH8C;AAItDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AAJgD,GAA9B,CAA5B;AAMA,SAAOC,QAAP;AACH;;AAED,eAAeQ,SAAf,CAAyBT,IAAzB,EAA8B;AAC1B,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,OAAQ,cAAZ,EAA0B;AAClDK,IAAAA,MAAM,EAAE,MAD0C;AAElDC,IAAAA,WAAW,EAAE,SAFqC;AAGlDC,IAAAA,OAAO,EAAC;AAAC,sBAAgB;AAAjB,KAH0C;AAIlDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AAJ4C,GAA1B,CAA5B;AAMA,SAAOC,QAAP;AACH;;AAGD,eAAeS,YAAf,CAA4Bb,aAA5B,EAA0C;AACtC,QAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,OAAQ,eAAZ,EAA4B;AACpDK,IAAAA,MAAM,EAAE,MAD4C;AAEpDC,IAAAA,WAAW,EAAE,SAFuC;AAGpDC,IAAAA,OAAO,EAAC;AAAC,sBAAgB,kBAAjB;AACC,uBAAkB,UAASR,aAAc;AAD1C;AAH4C,GAA5B,CAA5B;AAMA,SAAOI,QAAQ,CAACU,IAAT,EAAP;AACH;;AAGD,eAAeC,UAAf,GAA2B;AACvBV,EAAAA,KAAK,CAAE,GAAEJ,OAAQ,eAAZ,EAA2B;AAC5BK,IAAAA,MAAM,EAAE,MADoB;AAE5BC,IAAAA,WAAW,EAAE,SAFe;AAG5BC,IAAAA,OAAO,EAAC;AAAC,sBAAgB;AAAjB;AAHoB,GAA3B,CAAL;AAKH;;AAGD,eAAeQ,wBAAf,CAAwCC,KAAxC,EAA8C;AAC1C,QAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,OAAQ,sBAAZ,EAAmC;AAC3DK,IAAAA,MAAM,EAAE,MADmD;AAE3DC,IAAAA,WAAW,EAAE,SAF8C;AAG3DC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB,KAHkD;AAI3DC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeM,KAAf;AAJqD,GAAnC,CAA5B;AAMA,SAAOb,QAAQ,CAACU,IAAT,EAAP;AACH;;AAID,eAAeI,cAAf,CAA8BC,KAA9B,EAAoC;AAChC,QAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,OAAQ,uBAAZ,EAAoC;AAC5DK,IAAAA,MAAM,EAAE,KADoD;AAE5Dc,IAAAA,WAAW,EAAE,SAF+C;AAG5DZ,IAAAA,OAAO,EAAC;AAAC,sBAAgB;AAAjB,KAHoD;AAI5DC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeQ,KAAf;AAJsD,GAApC,CAA5B;AAMA,SAAOf,QAAP;AACH;;AAGD,SAAQF,QAAR,EAAkBU,SAAlB,EAA6BC,YAA7B,EAA2CE,UAA3C,EAAuDC,wBAAvD,EAAiFE,cAAjF","sourcesContent":["import { inMemoryToken } from \"../Components/AuthContext\"\r\nconst baseUrl = \"http://localhost:3100\"\r\n\r\n\r\nasync function register(user){\r\n    const response = await fetch(`${baseUrl}/users/register`, {\r\n        method:'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(user)\r\n    })\r\n    return response\r\n}\r\n\r\nasync function loginUser(user){\r\n    const response = await fetch(`${baseUrl}/users/login`,{\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(user)\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nasync function updateTokens(inMemoryToken){\r\n    const response = await fetch(`${baseUrl}/refreshToken`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json', \r\n                 'authorization': `Bearer ${inMemoryToken}`}\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\nasync function logoutUser(){\r\n    fetch(`${baseUrl}/users/logout`,{\r\n        method: 'POST', \r\n        credentials: 'include', \r\n        headers:{'Content-Type': 'application/json'}\r\n    }) \r\n} \r\n\r\n\r\nasync function sendEmailToResetPassword(email){\r\n    const response = await fetch(`${baseUrl}/email/resetPassword`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers: {'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(email)\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\n\r\nasync function changePassword(reset){\r\n    const response = await fetch(`${baseUrl}/users/changePassword`, {\r\n        method: 'PUT', \r\n        cardentials: 'include',\r\n        headers:{'Content-type': 'application/json'},\r\n        body: JSON.stringify(reset)\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nexport {register, loginUser, updateTokens, logoutUser, sendEmailToResetPassword, changePassword}"]},"metadata":{},"sourceType":"module"}