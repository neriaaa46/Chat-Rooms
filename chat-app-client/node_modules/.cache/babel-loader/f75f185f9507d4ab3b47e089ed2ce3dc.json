{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05E0\\u05E8\\u05D9\\u05D4\\\\Desktop\\\\web-socket-app\\\\chat-app-client\\\\src\\\\chat\\\\Components\\\\Initialization.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useContext } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Aut } from \"react\";\nimport Loader from \"./Loader\";\nimport { updateTokens } from \"../DAL/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Initialization() {\n  _s();\n\n  const dispatch = useDispatch();\n\n  const login = () => {\n    dispatch({\n      type: 'login'\n    });\n  };\n\n  const logout = () => {\n    dispatch({\n      type: 'logout'\n    });\n  };\n\n  const start = () => {\n    dispatch({\n      type: 'start'\n    });\n  };\n\n  useEffect(() => {\n    (async () => {\n      const {\n        accessToken\n      } = await updateTokens();\n\n      if (accessToken) {\n        login();\n        refreshToken(accessToken);\n      } else {\n        logout();\n      }\n\n      setTimeout(() => {\n        start();\n      }, 300);\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Initialization, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Initialization;\nexport default {\n  Initialization\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Initialization\");","map":{"version":3,"sources":["C:/Users/נריה/Desktop/web-socket-app/chat-app-client/src/chat/Components/Initialization.js"],"names":["useEffect","useContext","useDispatch","Aut","Loader","updateTokens","Initialization","dispatch","login","type","logout","start","accessToken","refreshToken","setTimeout"],"mappings":";;;AAAA,SAAQA,SAAR,EAAmBC,UAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,GAAT,QAAoB,OAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,YAAR,QAA2B,YAA3B;;;;AAGA,SAASC,cAAT,GAAyB;AAAA;;AAErB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;;AAEA,QAAMM,KAAK,GAAG,MAAM;AAChBD,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMC,MAAM,GAAG,MAAM;AACjBH,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACH,GAFD;;AAIA,QAAME,KAAK,GAAG,MAAM;AAChBJ,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACH,GAFD;;AAIAT,EAAAA,SAAS,CAAC,MAAI;AACV,KAAC,YAAU;AACP,YAAM;AAACY,QAAAA;AAAD,UAAgB,MAAMP,YAAY,EAAxC;;AACA,UAAGO,WAAH,EAAgB;AACZJ,QAAAA,KAAK;AACLK,QAAAA,YAAY,CAACD,WAAD,CAAZ;AACH,OAHD,MAGO;AACHF,QAAAA,MAAM;AACT;;AACDI,MAAAA,UAAU,CAAC,MAAI;AACXH,QAAAA,KAAK;AACR,OAFS,EAEP,GAFO,CAAV;AAGH,KAXD;AAYH,GAbQ,EAaP,EAbO,CAAT;AAeA,sBAAO;AAAA,2BACH,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADG,mBAAP;AAGH;;GAlCQL,c;UAEYJ,W;;;KAFZI,c;AAoCT,eAAe;AAACA,EAAAA;AAAD,CAAf","sourcesContent":["import {useEffect, useContext} from \"react\"; \r\nimport { useDispatch } from \"react-redux\";\r\nimport { Aut } from \"react\";\r\nimport Loader from \"./Loader\";\r\nimport {updateTokens} from \"../DAL/api\"\r\n\r\n\r\nfunction Initialization(){\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const login = () => {\r\n        dispatch({type: 'login'})\r\n    }\r\n\r\n    const logout = () => {\r\n        dispatch({type: 'logout'})\r\n    }\r\n\r\n    const start = () => {\r\n        dispatch({type: 'start'})\r\n    }\r\n\r\n    useEffect(()=>{\r\n        (async ()=>{\r\n            const {accessToken} = await updateTokens()\r\n            if(accessToken) {\r\n                login()\r\n                refreshToken(accessToken)\r\n            } else {\r\n                logout()\r\n            }\r\n            setTimeout(()=>{\r\n                start()\r\n            }, 300)\r\n        })()\r\n    },[])\r\n\r\n    return <>\r\n        <Loader/>\r\n    </>\r\n}\r\n\r\nexport default {Initialization} "]},"metadata":{},"sourceType":"module"}