{"ast":null,"code":"import{Navbar,Nav}from\"react-bootstrap\";import{NavLink,useHistory}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{logoutUser}from\"../DAL/authenticationApi\";import{decodeJwtToken}from\"../Utils/function\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Bar(){var history=useHistory();var dispatch=useDispatch();var isLoggedIn=useSelector(function(state){return state.isLoggedIn;});if(isLoggedIn){var _decodeJwtToken=decodeJwtToken(),userName=_decodeJwtToken.userName;}var logout=function logout(){dispatch({type:'LOGOUT'});};function toLogout(){logout();history.push('/');logoutUser();}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Navbar,{collapseOnSelect:true,expand:\"lg\",bg:\"dark\",variant:\"dark\",className:\"Nav-Bar\",children:[/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"responsive-navbar-nav\",children:[!isLoggedIn&&/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"nav-link nav-auth\",children:\"Register\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"nav-link nav-auth\",children:\"Login\"})]}),isLoggedIn&&/*#__PURE__*/_jsxs(Navbar.Collapse,{className:\"link-rooms\",children:[/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/rooms\",className:\"nav-link nav-auth\",children:\"Chat Rooms\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/createRoom\",className:\"nav-link nav-auth\",children:\"Create Room\"})]}),/*#__PURE__*/_jsxs(Nav,{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"userName-nav\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Hello, \",userName]})}),/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"nav-link nav-auth\",onClick:function onClick(){return toLogout();},children:\"Logout\"})]})]})]})]})});}export default Bar;","map":{"version":3,"sources":["C:/Users/נריה/Desktop/chat rooms/Frontend/src/chat/Components/Bar.js"],"names":["Navbar","Nav","NavLink","useHistory","useSelector","useDispatch","logoutUser","decodeJwtToken","Bar","history","dispatch","isLoggedIn","state","userName","logout","type","toLogout","push"],"mappings":"AAAA,OAAQA,MAAR,CAAgBC,GAAhB,KAA0B,iBAA1B,CACA,OAAQC,OAAR,CAAiBC,UAAjB,KAAkC,kBAAlC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAwC,aAAxC,CACA,OAAQC,UAAR,KAAyB,0BAAzB,CACA,OAAQC,cAAR,KAA6B,mBAA7B,C,6IAEA,QAASC,CAAAA,GAAT,EAAc,CAEV,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CACA,GAAMO,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,CAAAA,UAAU,CAAGP,WAAW,CAAC,SAAAQ,KAAK,QAAIA,CAAAA,KAAK,CAACD,UAAV,EAAN,CAA9B,CAEA,GAAGA,UAAH,CAAc,CACV,oBAAiBJ,cAAc,EAA/B,CAAKM,QAAL,iBAAKA,QAAL,CACH,CAED,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBJ,QAAQ,CAAC,CAACK,IAAI,CAAE,QAAP,CAAD,CAAR,CACH,CAFD,CAKA,QAASC,CAAAA,QAAT,EAAmB,CACfF,MAAM,GACNL,OAAO,CAACQ,IAAR,CAAa,GAAb,EACAX,UAAU,GACb,CAED,mBAAO,sCACP,MAAC,MAAD,EAAQ,gBAAgB,KAAxB,CAAyB,MAAM,CAAC,IAAhC,CAAqC,EAAE,CAAC,MAAxC,CAA+C,OAAO,CAAC,MAAvD,CAA8D,SAAS,CAAC,SAAxE,wBACI,KAAC,MAAD,CAAQ,MAAR,EAAe,gBAAc,uBAA7B,EADJ,cAEI,MAAC,MAAD,CAAQ,QAAR,EAAiB,EAAE,CAAC,uBAApB,WACS,CAACK,UAAD,eAAa,MAAC,GAAD,yBACV,KAAC,OAAD,EAAS,EAAE,CAAC,WAAZ,CAAwB,SAAS,CAAC,mBAAlC,sBADU,cAEV,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,SAAS,CAAC,mBAA/B,mBAFU,GADtB,CAMSA,UAAU,eAAE,MAAC,MAAD,CAAQ,QAAR,EAAiB,SAAS,CAAC,YAA3B,wBACT,MAAC,GAAD,yBACI,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,SAAS,CAAC,mBAA/B,wBADJ,cAEI,KAAC,OAAD,EAAS,EAAE,CAAC,aAAZ,CAA0B,SAAS,CAAC,mBAApC,yBAFJ,GADS,cAKT,MAAC,GAAD,EAAK,SAAS,CAAC,EAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBAA8B,+BAAWE,QAAX,GAA9B,EADJ,cAEI,KAAC,OAAD,EAAS,EAAE,CAAC,GAAZ,CAAgB,SAAS,CAAC,mBAA1B,CAA8C,OAAO,CAAI,yBAAIG,CAAAA,QAAQ,EAAZ,EAAzD,oBAFJ,GALS,GANrB,GAFJ,GADO,EAAP,CAuBH,CAED,cAAeR,CAAAA,GAAf","sourcesContent":["import {Navbar, Nav} from \"react-bootstrap\"\r\nimport {NavLink, useHistory} from \"react-router-dom\"\r\nimport { useSelector, useDispatch} from \"react-redux\"\r\nimport {logoutUser} from \"../DAL/authenticationApi\"\r\nimport {decodeJwtToken} from \"../Utils/function\"\r\n\r\nfunction Bar(){\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector(state => state.isLoggedIn)\r\n    \r\n    if(isLoggedIn){\r\n        var {userName} = decodeJwtToken()\r\n    }\r\n    \r\n    const logout = () => {\r\n        dispatch({type: 'LOGOUT'})\r\n    }\r\n\r\n\r\n    function toLogout(){\r\n        logout()\r\n        history.push('/')\r\n        logoutUser()\r\n    }\r\n\r\n    return <>\r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" className=\"Nav-Bar\">\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                {!isLoggedIn&&<Nav>\r\n                    <NavLink to=\"/register\" className=\"nav-link nav-auth\">Register</NavLink>\r\n                    <NavLink to=\"/login\" className=\"nav-link nav-auth\">Login</NavLink>\r\n                </Nav>}\r\n\r\n                {isLoggedIn&&<Navbar.Collapse className=\"link-rooms\">\r\n                    <Nav>\r\n                        <NavLink to=\"/rooms\" className=\"nav-link nav-auth\">Chat Rooms</NavLink>\r\n                        <NavLink to=\"/createRoom\" className=\"nav-link nav-auth\">Create Room</NavLink>\r\n                    </Nav>\r\n                    <Nav className=\"\">\r\n                        <div className=\"userName-nav\"><b>Hello, {userName}</b></div>\r\n                        <NavLink to=\"/\" className=\"nav-link nav-auth\" onClick = {()=>toLogout()}>Logout</NavLink>\r\n                    </Nav>\r\n                </Navbar.Collapse>}\r\n            </Navbar.Collapse>\r\n\r\n    </Navbar>\r\n    </>\r\n}\r\n\r\nexport default Bar"]},"metadata":{},"sourceType":"module"}