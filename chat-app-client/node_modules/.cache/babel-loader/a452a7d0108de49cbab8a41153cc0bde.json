{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05E0\\u05E8\\u05D9\\u05D4\\\\Desktop\\\\web-socket-app\\\\chat-app-client\\\\src\\\\chat\\\\Components\\\\MyDetails.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport { Container, Table } from 'react-bootstrap';\nimport { getDetails, logout } from '../DAL/api';\nimport ModalMessage from './ModalMessage';\nimport { AuthContext } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MyDetails() {\n  _s();\n\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const [myDetails, setMyDetails] = useState({});\n  const [messageModal, setMessageModal] = useState(\"\");\n  const [smShow, setSmShow] = useState(false);\n  useEffect(() => {\n    (async () => {\n      const response = await getDetails();\n\n      if (response.ok) {\n        const userDetails = await response.json();\n        setMyDetails(userDetails);\n      } else {\n        const {\n          message\n        } = await response.json();\n        setMessageModal(message);\n        setSmShow(true);\n        setTimeout(() => {\n          authCtx.onLogout();\n          logout();\n          setSmShow(false);\n          history.push('login');\n        }, 4000);\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(ModalMessage, {\n        messageModal: messageModal,\n        smShow: smShow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"header-my-details text-center\",\n        children: \"My Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), !!Object.values(myDetails).length && /*#__PURE__*/_jsxDEV(Table, {\n        className: \"text-center\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: myDetails.firstName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: myDetails.lastName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: myDetails.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(MyDetails, \"PDUez77Eg7quI+HUhgb0Fe7mLjM=\", false, function () {\n  return [useHistory];\n});\n\n_c = MyDetails;\nexport default MyDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyDetails\");","map":{"version":3,"sources":["C:/Users/נריה/Desktop/web-socket-app/chat-app-client/src/chat/Components/MyDetails.js"],"names":["useEffect","useState","useContext","useHistory","Container","Table","getDetails","logout","ModalMessage","AuthContext","MyDetails","history","authCtx","myDetails","setMyDetails","messageModal","setMessageModal","smShow","setSmShow","response","ok","userDetails","json","message","setTimeout","onLogout","push","Object","values","length","firstName","lastName","email"],"mappings":"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","sourcesContent":["import {useEffect, useState, useContext} from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { Container, Table } from 'react-bootstrap'\r\nimport {getDetails, logout} from '../DAL/api'\r\nimport ModalMessage from './ModalMessage'\r\nimport { AuthContext } from './AuthContext'\r\n\r\nfunction MyDetails(){\r\n\r\n    const history = useHistory()\r\n    const authCtx = useContext(AuthContext)\r\n\r\n    const [myDetails, setMyDetails] = useState({})\r\n    const [messageModal, setMessageModal] = useState(\"\")\r\n    const [smShow, setSmShow] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        (async ()=>{\r\n            const response = await getDetails()\r\n            if(response.ok){\r\n                const userDetails = await response.json()\r\n                setMyDetails(userDetails)\r\n            } else {\r\n                const {message} = await response.json()\r\n                setMessageModal(message)\r\n                setSmShow(true) \r\n                setTimeout(()=>{\r\n                    authCtx.onLogout()\r\n                    logout()\r\n                    setSmShow(false) \r\n                    history.push('login')\r\n                }, 4000)\r\n            }\r\n        })()\r\n    }, [])\r\n\r\n\r\n    return<>\r\n        <Container>\r\n            <ModalMessage messageModal = {messageModal} smShow = {smShow}/>\r\n\r\n            <h1 className=\"header-my-details text-center\">My Details</h1>\r\n\r\n            {!!Object.values(myDetails).length&&\r\n            <Table className=\"text-center\" striped bordered hover variant=\"dark\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>First Name</th>\r\n                        <th>Last Name</th>\r\n                        <th>email</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{myDetails.firstName}</td>\r\n                        <td>{myDetails.lastName}</td>\r\n                        <td>{myDetails.email}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>}\r\n\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default MyDetails"]},"metadata":{},"sourceType":"module"}