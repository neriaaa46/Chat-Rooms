{"ast":null,"code":"import Cookies from \"js-cookie\";\nimport { inMemoryToken } from \"../Components/AuthContext\";\nconst baseUrl = \"http://localhost:3100\";\n\nasync function register(user) {\n  const response = await fetch(`${baseUrl}/users/register`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  });\n  return response;\n}\n\nasync function login(user) {\n  const response = await fetch(`${baseUrl}/users/login`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  });\n  return response;\n}\n\nasync function updateTokens(inMemoryToken) {\n  const response = await fetch(`${baseUrl}/refreshToken`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n      'authorization': `Bearer ${inMemoryToken}`\n    }\n  });\n  return response.json();\n}\n\nasync function logout() {\n  fetch(`${baseUrl}/users/logout`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\nasync function getDetails() {\n  const response = await fetch(`${baseUrl}/details`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n      'authorization': `Bearer ${inMemoryToken}`\n    }\n  });\n  return response;\n}\n\nasync function sendEmailToResetPassword(email) {\n  const response = await fetch(`${baseUrl}/email/resetPassword`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(email)\n  });\n  return response.json();\n}\n\nasync function changePassword(reset) {\n  const response = await fetch(`${baseUrl}/users/changePassword`, {\n    method: 'PUT',\n    cardentials: 'include',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(reset)\n  });\n  return response;\n}\n\nexport { register, login, updateTokens, logout, getDetails, sendEmailToResetPassword, changePassword };","map":{"version":3,"sources":["C:/Users/נריה/Desktop/web-socket-app/chat-app-client/src/chat/DAL/api.js"],"names":["Cookies","inMemoryToken","baseUrl","register","user","response","fetch","method","credentials","headers","body","JSON","stringify","login","updateTokens","json","logout","getDetails","sendEmailToResetPassword","email","changePassword","reset","cardentials"],"mappings":"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","sourcesContent":["import Cookies from \"js-cookie\"\r\nimport { inMemoryToken } from \"../Components/AuthContext\"\r\n\r\nconst baseUrl = \"http://localhost:3100\"\r\n\r\n\r\nasync function register(user){\r\n    const response = await fetch(`${baseUrl}/users/register`, {\r\n        method:'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(user)\r\n    })\r\n    return response\r\n}\r\n\r\nasync function login(user){\r\n    const response = await fetch(`${baseUrl}/users/login`,{\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(user)\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nasync function updateTokens(inMemoryToken){\r\n    const response = await fetch(`${baseUrl}/refreshToken`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers:{'Content-Type': 'application/json', \r\n                 'authorization': `Bearer ${inMemoryToken}`}\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\n\r\nasync function logout(){\r\n    fetch(`${baseUrl}/users/logout`,{\r\n        method: 'POST', \r\n        credentials: 'include', \r\n        headers:{'Content-Type': 'application/json'}\r\n    }) \r\n} \r\n\r\n\r\n\r\nasync function getDetails(){\r\n    const response = await fetch(`${baseUrl}/details`,{\r\n        method: 'GET', \r\n        credentials: 'include', \r\n        headers: {'Content-Type': 'application/json', \r\n                  'authorization': `Bearer ${inMemoryToken}`}\r\n    })\r\n    return response\r\n}\r\n\r\n\r\n\r\nasync function sendEmailToResetPassword(email){\r\n    const response = await fetch(`${baseUrl}/email/resetPassword`, {\r\n        method: 'POST', \r\n        credentials: 'include',\r\n        headers: {'Content-Type': 'application/json'}, \r\n        body: JSON.stringify(email)\r\n    })\r\n    return response.json()\r\n}\r\n\r\n\r\n\r\nasync function changePassword(reset){\r\n    const response = await fetch(`${baseUrl}/users/changePassword`, {\r\n        method: 'PUT', \r\n        cardentials: 'include',\r\n        headers:{'Content-type': 'application/json'},\r\n        body: JSON.stringify(reset)\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nexport {register, login, updateTokens, logout, getDetails, sendEmailToResetPassword, changePassword}"]},"metadata":{},"sourceType":"module"}